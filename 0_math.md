---
title: 一些要背公式的题目
date: 2023-02-23 11:00:00
updated: 2023-02-23 12:00:00
tag:
- leetcode
---

## 记忆

89. 格雷编码：`gray[i] = i ^ (i >> 1)`，`^`：异或，`>> 1`：除以2取底

1238. 循环码排列：在格雷码的基础上，将每一个码与`start`做异或运算。正确性证明：原始格雷码每一位之间只有一位不同，对相同的数做运算后，相邻码仍只有一位不同。且起始位`0`与`start`异或后为`start`。





## 题目

### 89. 格雷编码

> - **n 位格雷码序列** 是一个由 `2n` 个整数组成的序列，其中：
>
>     - 每个整数都在范围 `[0, 2n - 1]` 内（含 `0` 和 `2n - 1`）
>     - 第一个整数是 `0`
>     - 一个整数在序列中出现 **不超过一次**
>     - 每对 **相邻** 整数的二进制表示 **恰好一位不同** ，且
>     - **第一个** 和 **最后一个** 整数的二进制表示 **恰好一位不同**
>
>     给你一个整数 `n` ，返回任一有效的 **n 位格雷码序列** 。
>
>      
>
>     **示例 1：**
>
>     ```
>     输入：n = 2
>     输出：[0,1,3,2]
>     解释：
>     [0,1,3,2] 的二进制表示是 [00,01,11,10] 。
>     - 00 和 01 有一位不同
>     - 01 和 11 有一位不同
>     - 11 和 10 有一位不同
>     - 10 和 00 有一位不同
>     [0,2,3,1] 也是一个有效的格雷码序列，其二进制表示是 [00,10,11,01] 。
>     - 00 和 10 有一位不同
>     - 10 和 11 有一位不同
>     - 11 和 01 有一位不同
>     - 01 和 00 有一位不同
>     ```
>
>     **示例 2：**
>
>     ```
>     输入：n = 1
>     输出：[0,1]
>     ```
>
>      
>
>     **提示：**
>
>     - `1 <= n <= 16`

```python
class Solution:
    def grayCode(self, n: int) -> List[int]:
        '''
        背公式吧，gray[i] = i ^ (i << 1)
        '''
        res = []
        for i in range(2**n):
            res.append(i ^ (i >> 1))
        return res
```

### 1238. 循环码排列

> 给你两个整数 `n` 和 `start`。你的任务是返回任意 `(0,1,2,,...,2^n-1)` 的排列 `p`，并且满足：
>
> - `p[0] = start`
> - `p[i]` 和 `p[i+1]` 的二进制表示形式只有一位不同
> - `p[0]` 和 `p[2^n -1]` 的二进制表示形式也只有一位不同
>
> **示例 1：**
>
> ```
> 输入：n = 2, start = 3
> 输出：[3,2,0,1]
> 解释：这个排列的二进制表示是 (11,10,00,01)
>      所有的相邻元素都有一位是不同的，另一个有效的排列是 [3,1,0,2]
> ```
>
> **示例 2：**
>
> ```
> 输出：n = 3, start = 2
> 输出：[2,6,7,5,4,0,1,3]
> 解释：这个排列的二进制表示是 (010,110,111,101,100,000,001,011)
> ```
>
> **提示：**
>
> - `1 <= n <= 16`
> - `0 <= start < 2^n`

```python
class Solution:
    def circularPermutation(self, n: int, start: int) -> List[int]:
        # 格雷码 Gray[i] = i ^ (i >> 1)
        res = []
        for i in range(2**n):
            res.append(start ^ i ^ (i >> 1))
        return res
```

