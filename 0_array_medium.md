---
title: æ•°ç»„ Array (medium)
date: 2022-04-14 19:58:00
updated: 2022-12-26 23:48:00
tag:
- leetcode
- array
---

## æœ¬ç« é‡ç‚¹

1. æ»‘åŠ¨çª—å£æ³•ï¼ˆç¢°åˆ°éœ€è¦åŒé‡éå†çš„é¢˜ç›®ï¼Œåº”å½“é¦–å…ˆæƒ³åˆ°è¯¥æ–¹æ³•ï¼‰ï¼š
    - åŒæŒ‡é’ˆ+hashmapï¼ˆ[æŸ¥æ‰¾æœ€é•¿ä¸é‡å¤å­ä¸²é—®é¢˜](#longest_substr_no_repeat)ï¼‰ã€
    - åŒæŒ‡é’ˆï¼ˆ[ç››æœ€å¤šæ°´çš„é—®é¢˜](#largest_area)ï¼‰ã€
    - åŒæŒ‡é’ˆ+æ’åºï¼ˆ[ä¸‰æ•°ä¹‹å’Œé—®é¢˜](#three_sum)ã€[æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ](#closest_target)ã€[å››æ•°ä¹‹å’Œé—®é¢˜](#four_sum)ã€[æœç´¢æ—‹è½¬æ’åºé—®é¢˜](#rotation_search)ã€[åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](#search_first_and_last)ã€[åˆå¹¶åŒºé—´](#combine_intervals)ï¼‰
2. åŠ¨æ€è§„åˆ’æ³•ï¼Œè¯¦è§<a href="#longest_palindromic_substr">æœ€é•¿å›æ–‡å­ä¸²é—®é¢˜</a>
3. å›æº¯ï¼ˆbacktrackï¼‰ï¼š[ç”µè¯å·ç çš„æ‰€æœ‰ç»„åˆ](#comb_phonenumber)ã€[ç»„åˆæ€»å’Œ](#comb_sum)ã€[ç»„åˆæ€»å’ŒII](#comb_sum2)ã€[å•è¯æœç´¢](#word_search)
4. äºŒåˆ†æ³• + å¿«é€Ÿä¹˜æ³•ï¼š[ä¸¤æ•°ç›¸é™¤](#two_divide)
5. [ä¸‹ä¸€ä¸ªæ’åˆ—](#next_comb): æ’åˆ—çš„é‡è¦é¢˜ç›®
6. [å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®](#two_reverse): æ•°å­¦è§£æ³•å¾ˆåˆé’»ï¼Œä»æ•°ç»„ç”Ÿæˆçš„è§’åº¦çœ‹å¾…æ•°æ®
7. [æœ€é•¿è¿ç»­æ•°åˆ—](#longest_con_array): åŒºé—´åˆå¹¶çš„æ€è·¯ï¼Œè¿™ä¸ªå¤šè®°å¿†ä¸€ä¸‹
8. [åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](#number_once): å¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹ï¼š`a^b^a = a^a^b = b`
9. [ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®](#count_same_str): `groupby`å‡½æ•°çš„ç”¨æ³•

## æœ¬ç« é¢˜ç›®æ€è·¯è®°å¿†è¦ç‚¹

1. **ä¸¤æ•°ç›¸åŠ **ï¼šå‚¨å­˜åœ¨å€’åºé“¾è¡¨ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼ˆä¸ªä½åœ¨é“¾è¡¨æœ€å¤–ä¾§ï¼‰ï¼Œæ±‚å’Œæ—¶å¯ä»¥ç›´æ¥è€ƒè™‘è¾¹å¾ªç¯è¾¹ç›´æ¥ç›¸åŠ <u>æ¯ä¸€ä½</u>ï¼Œä¿å­˜è¿›ä½æ•°å³å¯ã€‚
2. **æ— é‡å¤çš„æœ€é•¿å­ä¸²**ï¼šåŸºäº<u>åŒæŒ‡é’ˆ</u>çš„æ»‘åŠ¨çª—å£æ³•ï¼Œæ¶‰åŠ<u>â€œæ— é‡å¤â€</u>å‡ç›´æ¥é‡‡ç”¨`set`æˆ–è€…`dict`å®ç°çš„`hashmap`ã€‚
3. **Zå­—å½¢å˜æ¢**ï¼šæ³¨æ„ç­”æ¡ˆè¦æ±‚ï¼Œä»…è€ƒè™‘æ¯ä¸€è¡Œå­˜å‚¨çš„å­—æ¯é¡ºåºå³å¯ï¼Œæ— éœ€ç²¾ç¡®åˆ°å…·ä½“çš„åæ ‡
4. **æ•´æ•°è½¬ç½—é©¬å­—**ï¼šæ•°å­—è½¬ç½—é©¬å­—çš„æ€è·¯ä¸ºï¼Œå¯¹æ•°å­—`num`å¯»æ‰¾ä¸è¶…è¿‡è¯¥æ•°çš„ç¬¦å·è¡¨ç¤ºï¼Œç„¶å`num`å‡å»å¯è¢«ç¬¦å·è¡¨ç¤ºçš„éƒ¨åˆ†ï¼Œç›´åˆ°`num`ä¸º0
5. **æ•´æ•°ç¿»è½¬**ï¼šå‡è®¾ç¯å¢ƒä¸­ä¸å…è®¸å­˜å‚¨64ä½æ•°å­—ï¼Œé‚£æˆ‘ä»¬éœ€è¦åœ¨ä¹˜10è¿ç®—ä¹‹å‰ï¼Œå°†outputä¸`2^31 // 10`åšæ¯”è¾ƒä»¥ä¿è¯ä¸è¶…è¿‡è¯¥æ•°ã€‚
6. **åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹**ï¼šå¯ä»¥ç”¨åŒæŒ‡é’ˆæ³•ï¼Œæ³¨æ„å“‘èŠ‚ç‚¹ï¼ˆæŒ‡å‘å¤´éƒ¨èŠ‚ç‚¹çš„è™šæ‹ŸèŠ‚ç‚¹ï¼‰çš„ä½¿ç”¨ï¼Œå¯ä»¥é¿å…å¤´èŠ‚ç‚¹çš„åˆ¤æ–­ã€‚
7. **ç”Ÿæˆæ‹¬å·**ï¼šç”ŸæˆåŒ…å«`n`ä¸ªæ‹¬å·çš„é—®é¢˜`gp(n)`ï¼Œå…¶åŸºæœ¬å½¢å¼ä¸º`(a)b`ï¼Œ`a`, `b`åˆ†åˆ«ä»£è¡¨ä¸€ä¸ªæœ‰æ•ˆçš„æ‹¬å·åºåˆ—ï¼Œ`a`, `b`å¯ä»¥ä¸ºç©ºã€‚å¯¹å¶é—®é¢˜â€”â€”[éªŒè¯æ‹¬å·æœ‰æ•ˆæ€§](./0_array_easy.md#valid_parentheses)
8. 

## é¢˜ç›®

### 1. ä¸¤æ•°ç›¸åŠ 

> ç»™ä½ ä¸¤ä¸ª **éç©º** çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ **é€†åº** çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ **ä¸€ä½** æ•°å­—ã€‚
>
> è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚
>
> ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚
>
>  
>
> **ç¤ºä¾‹ 1**ï¼š
>
> <div align="center">
>   <img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/image-20220414201633996.png" alt="image-20220414201633996" width="50%" />
> </div>
>
> ```
> è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]
> è¾“å‡ºï¼š[7,0,8]
> è§£é‡Šï¼š342 + 465 = 807.
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šl1 = [0], l2 = [0]
> è¾“å‡ºï¼š[0]
> ```
>
> **ç¤ºä¾‹ 3**ï¼š
>
> ```
> è¾“å…¥ï¼šl1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]
> è¾“å‡ºï¼š[8,9,9,9,0,0,0,1]
> ```
>
> **æç¤º**ï¼š
>
> - æ¯ä¸ªé“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´` [1, 100] `å†…
> - `0 <= Node.val <= 9`
> - é¢˜ç›®æ•°æ®ä¿è¯åˆ—è¡¨è¡¨ç¤ºçš„æ•°å­—ä¸å«å‰å¯¼é›¶

**åŸacceptç­”æ¡ˆ**ï¼š

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def addTwoNumbers(self, l1: ListNode, l2: ListNode) -> ListNode:
        def read_listnode(node):
            num_list = []
            while node is not None:
                num_list.append(node.val)
                node = node.next
            num_list = num_list[::-1]
            num = 0
            for item in num_list:
                num = num * 10
                num += item
            return int(num)
        def construct_listnode(num):
            num_list = []
            if num == 0:
                num_list = [0]
            else:
                while num >= 1:
                    num_list.append(num % 10)
                    num = num // 10
            num_list = num_list[::-1]
            prev = None
            for idx, item in enumerate(num_list):
                tmp = ListNode(item, prev)
                prev = tmp
            return prev
        
        num1 = read_listnode(l1)
        num2 = read_listnode(l2)
        s = num1 + num2

        return construct_listnode(int(s))
```

**ä¼˜åŒ–æ€è·¯**ï¼šä¸¤ä¸ªé“¾è¡¨æ—¢ç„¶éƒ½æ˜¯å€’åºçš„ï¼Œè‡ªç„¶å¯ä»¥ç›´æ¥é€šè¿‡<u>ä¸€æ¬¡å¾ªç¯</u>æ¥æ±‚å’Œã€‚æ³¨æ„è¿›ä½çš„å¤„ç†ã€‚

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def addTwoNumbers(self, l1: ListNode, l2: ListNode) -> ListNode:
        add = 0 # ä¸‹æ¬¡è®¡ç®—è¯¥åŠ çš„æ•°
        node = ListNode(-100)
        res = node # è¦è¿”å›çš„æŒ‡é’ˆ
        while l1 is not None or l2 is not None:
            if l1 is not None and l2 is not None:
                result = l1.val + l2.val + add
                l1 = l1.next
                l2 = l2.next
            elif l1 is not None:
                result = l1.val + add
                l1 = l1.next
            else:
                result = l2.val + add
                l2 = l2.next
            # compute
            this = result % 10
            add = result // 10
            node.next = ListNode(this)
            node = node.next
        # å¤„ç†è¿›ä½
        if add > 0:
            node.next = ListNode(add)
        return res.next
```

## 2. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²<a id="longest_substr_no_repeat"> ğŸ“Œ</a>

> ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²` s `ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚
>
> **ç¤ºä¾‹ 1**:
>
> ```
> è¾“å…¥: s = "abcabcbb"
> è¾“å‡º: 3 
> è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
> ```
>
> **ç¤ºä¾‹ 2**:
>
> ```
> è¾“å…¥: s = "bbbbb"
> è¾“å‡º: 1
> è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
> ```
>
> **ç¤ºä¾‹ 3**:
>
> ```
> è¾“å…¥: s = "pwwkew"
> è¾“å‡º: 3
> è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
>      è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
> ```
>
> **æç¤º**ï¼š
>
> - `0 <= s.length <= 5 * 104`
> - `s `ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int: 
        str_len = len(s)
        longest = 0
        for start_idx in range(str_len):
            hashmap = set() # å§‹ç»ˆå­˜å‚¨ä¸€ä¸ªä¸é‡å¤çš„å­ä¸²
            end_idx = start_idx
            while end_idx < str_len and s[end_idx] not in hashmap:
                hashmap.add(s[end_idx])
                end_idx += 1
            longest = max([longest, len(hashmap)])
        return longest
```

**è§£é¢˜æ€è·¯**ï¼šæœ¬é¢˜é‡‡ç”¨<u>æ»‘åŠ¨çª—å£æ³•</u>ï¼š

- <u>å·¦æŒ‡é’ˆ</u>ï¼šä¾æ¬¡æŒ‡å‘æ¯ä¸ªå­—ç¬¦
- <u>å³æŒ‡é’ˆ</u>ï¼šä»å·¦æŒ‡é’ˆå¼€å§‹æ»‘åŠ¨åˆ°å­—ç¬¦ä¸²å°¾
- åˆ¤æ–­å·¦å³æŒ‡é’ˆåŒ…å›´çš„åŒºåŸŸæ˜¯å¦ç¬¦åˆè¦æ±‚
- æ¶‰åŠåˆ°<u>ä¸é‡å¤</u>æ¦‚å¿µçš„ï¼Œä¸€å¾‹ä½¿ç”¨`set`æˆ–è€…`dict`è§£å†³

**åç›´è§‰çš„**ï¼šä»¥ä¸‹æ–¹æ³•æ˜¯è¶…å‡ºæ—¶é—´é™åˆ¶çš„â€”â€”æšä¸¾é•¿åº¦ä¸º`len(s)`åˆ°`1`çš„çª—å£ï¼Œå¹¶è®©çª—å£å·¦å³æ»‘åŠ¨ï¼Œåˆ¤æ–­çª—å£å†…çš„å­ä¸²æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚

**ä¼˜åŒ–æ€è·¯**ï¼šä¸Šè¿°acceptç­”æ¡ˆè€—æ—¶å’Œå†…å®¹æ¶ˆè€—è¿‡å¤šï¼ˆæ‰§è¡Œç”¨æ—¶ï¼š`488 ms`, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†`9.58%`çš„ç”¨æˆ·ï¼›å†…å­˜æ¶ˆè€—ï¼š`15.2 MB,` åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†`19.79%`çš„ç”¨æˆ·ï¼‰ã€‚è€ƒè™‘ä¸åœ¨æ¯æ¬¡å¾ªç¯çš„æ—¶å€™æ–°å»º`set()`ã€‚

**ä¼˜åŒ–ç­”æ¡ˆ**ï¼šæ‰§è¡Œç”¨æ—¶ï¼š`88 ms`, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†`29.87%`çš„ç”¨æˆ·ï¼›å†…å­˜æ¶ˆè€—ï¼š`15.1 MB`, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†`38.40%`çš„ç”¨æˆ·ã€‚

```python
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int: 
        hashmap = set() # å§‹ç»ˆå­˜å‚¨ä¸€ä¸ªä¸é‡å¤çš„å­ä¸²
        str_len = len(s)
        longest = 0
        end_idx = -1
        for start_idx in range(str_len):
            if start_idx != 0:
                hashmap.remove(s[start_idx - 1])
            while end_idx + 1 < str_len and s[end_idx + 1] not in hashmap:
                # end_idx å…ˆéªŒè¯ï¼Œå†èµ‹å€¼
                # è¿™æ­¥æ“ä½œä¿è¯äº†ï¼Œend_idxä¸€ç›´æŒ‡å‘ä¸€ä¸ªä¸é‡å¤å­ä¸²çš„æœ«å°¾
                hashmap.add(s[end_idx + 1])
                end_idx += 1
            longest = max([longest, len(hashmap)])
        return longest
```

## 3. æœ€é•¿å›æ–‡å­ä¸² <a id="longest_palindromic_substr">ğŸ“Œ</a>

> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²` s`ï¼Œæ‰¾åˆ°` s `ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ 
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šs = "babad"
> è¾“å‡ºï¼š"bab"
> è§£é‡Šï¼š"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šs = "cbbd"
> è¾“å‡ºï¼š"bb"
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= s.length <= 1000`
> - `s `ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆ

**åŠ¨æ€è§„åˆ’ç®—æ³•**<a id="dynamic_programing">ğŸŒŸ</a>

åŠ¨æ€è§„åˆ’çš„ç­”é¢˜æ€æƒ³ [link](https://zhuanlan.zhihu.com/p/365698607)ï¼Œç›®å‰çœ‹æ‡‚äº†å†™ä¸å‡ºæ¥ğŸ˜­



**Backupè¶…æ—¶ä»£ç **ï¼šæ€è·¯æ²¡é—®é¢˜ï¼ŒæŒ‰ç…§æ»‘åŠ¨çª—å£çš„æ€æƒ³å†™äº†æš´åŠ›ç ´è§£ï¼Œè¶…æ—¶äº†ğŸ˜­

```python
class Solution:
    def is_palindrome(self, s: str):
        if len(s) == 0:
            return False, ''
        elif len(s) == 1:
            return True, s
        med = len(s) // 2
        if s[0:med][::-1] == s[-med:]:
            return True, s
        return False, ''

    def longestPalindrome(self, s: str) -> str:
        str_len = len(s)
        longest = ''
        for start_idx in range(str_len):
            end_idx = start_idx - 1
            # æ£€æŸ¥start_idxåˆ°end_idxæ˜¯ä¸æ˜¯å›æ–‡ä¸²
            while end_idx + 1 <= str_len:
                res, res_str = self.is_palindrome(s[start_idx : end_idx+1])
                if res is True and len(res_str) > len(longest):
                    longest = res_str
                end_idx += 1
        return longest
```

## 4. Zå­—å½¢å˜æ¢

> å°†ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²` s `æ ¹æ®ç»™å®šçš„è¡Œæ•°` numRows `ï¼Œä»¥ä»ä¸Šå¾€ä¸‹ã€ä»å·¦åˆ°å³è¿›è¡Œ Z å­—å½¢æ’åˆ—ã€‚
>
> æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²ä¸º "PAYPALISHIRING" è¡Œæ•°ä¸º 3 æ—¶ï¼Œæ’åˆ—å¦‚ä¸‹ï¼š
>
> ```
> P   A   H   N
> A P L S I I G
> Y   I   R
> ```
>
> ä¹‹åï¼Œä½ çš„è¾“å‡ºéœ€è¦ä»å·¦å¾€å³é€è¡Œè¯»å–ï¼Œäº§ç”Ÿå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š`"PAHNAPLSIIGYIR"`ã€‚
>
> è¯·ä½ å®ç°è¿™ä¸ªå°†å­—ç¬¦ä¸²è¿›è¡ŒæŒ‡å®šè¡Œæ•°å˜æ¢çš„å‡½æ•°ï¼š
>
> ```
> string convert(string s, int numRows);`
> ```
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šs = "PAYPALISHIRING", numRows = 3
> è¾“å‡ºï¼š"PAHNAPLSIIGYIR"
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "PAYPALISHIRING", numRows = 4
> è¾“å‡ºï¼š"PINALSIGYAHRPI"
> è§£é‡Šï¼š
> P     I    N
> A   L S  I G
> Y A   H R
> P     I
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "A", numRows = 1
> è¾“å‡ºï¼š"A"
> ```
>
> 
>
> **æç¤ºï¼š**
>
> - `1 <= s.length <= 1000`
> - `s `ç”±è‹±æ–‡å­—æ¯ï¼ˆå°å†™å’Œå¤§å†™ï¼‰ã€`',' `å’Œ` '.' `ç»„æˆ
> - `1 <= numRows <= 1000`

**è§£é¢˜æ€è·¯**ï¼šåœ¨é¦–æ¬¡è§£é¢˜çš„æ—¶å€™ï¼Œé€šè¿‡åˆ†åˆ«ç ”ç©¶æ¯ä¸ªZå­—æ’åˆ—çš„å­—æ¯åæ ‡çš„æ¨ªçºµåæ ‡å€¼ï¼Œå‘ç°å¦‚ä¸‹è§„å¾‹ï¼Œè®¾`numRows = 4`ï¼š

- æ¨ªåæ ‡å˜æ¢è§„å¾‹ï¼š`[0, 1, 2, 3, 2, 1, 0, 1, 2, 3, ...]`
- çºµåæ ‡å˜æ¢è§„å¾‹ï¼š`[0, 0, 0, 0, 1, 2, 3, 3, 3, 3, 4, 5, ...]`ï¼Œè¯¥åºåˆ—å¯ä»¥è§†ä¸º`[0, 0, 0, 0, 1, 2] + 3*[0, 0, 0, 0, 1, 2] + 6*[0, 0, 0, 0, 1, 2] + ...`

åŸacceptä»£ç å³æ ¹æ®ä¸Šè¿°è§„å¾‹ç¼–å†™è€Œæˆã€‚

**ä¼˜åŒ–æ€è·¯**ï¼šä»ç­”æ¡ˆå‡ºå‘ï¼Œå…¶å®æˆ‘ä»¬åªå…³æ³¨æ¯ä¸€è¡Œä¸­å­—ç¬¦çš„ç›¸å¯¹ä½ç½®ï¼Œè€Œä¸å…³æ³¨ä»–ä»¬å…·ä½“çš„åæ ‡ï¼Œå› æ­¤åªéœ€è¦ç”¨äºŒç»´åˆ—è¡¨è¿›è¡Œå­—æ¯çš„å­˜å‚¨å³å¯ã€‚

**ä¼˜åŒ–ä»£ç **ï¼š

```python
class Solution:
    def convert(self, s: str, numRows: int) -> str:
        if numRows == 1:
            return s
        # [0, 1, 2, 3, 2, 1]
        row_list = [item for item in range(numRows)] + [item for item in range(numRows-2, 0, -1)]
        row_pin = 0
        store_list = [[] for _ in range(numRows)]
        for _, letter in enumerate(s):
            row_idx = row_list[row_pin]
            store_list[row_idx].append(letter)
            if row_pin + 1 == len(row_list):
                row_pin = 0
            else:
                row_pin += 1
        # output
        output = []
        for row in store_list:
            for item in row:
                output.append(item)
        return ''.join(output)
```

**åŸacceptä»£ç **ï¼š

```python
class Solution:
    def convert(self, s: str, numRows: int) -> str:
        if numRows == 1:
            return s
        read_dict = {} # key: row_idx, value: list of col_idx
        letter_dict = {} # key: (row_idx, col_idx), value: letter
        row_idx_list = [item for item in range(numRows)] # [0, 1, 2, 3]
        col_idx_list = [0] * numRows + [item for item in range(1, numRows-1)] # [0, 0, 0, 0, 1, 2]
        # æŒ‡å‘æœ¬æ¬¡çš„å­—æ¯åæ ‡ä½ç½®
        col_pin = 0
        col_base = numRows - 1 # æ¯æ¬¡æ›´æ–°åˆ—è¡¨çš„æ—¶å€™è¦åŠ çš„æ•°
        row_pin = 0
        row_dir = 'up' # row_pinçš„ç§»åŠ¨æ–¹å‘
        for letter in s:
            if read_dict.get(row_idx_list[row_pin]) is None:
                read_dict[row_idx_list[row_pin]] = []
            read_dict[row_idx_list[row_pin]].append(col_idx_list[col_pin])
            letter_dict[f'{row_idx_list[row_pin]}-{col_idx_list[col_pin]}'] = letter
            # ä¸‹æ¬¡å­—æ¯çš„åæ ‡ï¼Œå…ˆåˆ¤å®šæ–¹å‘
            if row_pin + 1 == len(row_idx_list):
                row_dir = 'down'
            elif row_pin == 0:
                row_dir = 'up'
            if row_dir == 'up':
                row_pin += 1
            else:
                row_pin -= 1
            # çºµåæ ‡
            if col_pin + 1 == len(col_idx_list):
                col_pin = 0
                col_idx_list = [item + col_base for item in col_idx_list]
            else:
                col_pin += 1
        # output
        all_rows = list(read_dict.keys())
        all_rows.sort()
        output = []
        for row_idx in all_rows:
            for col_idx in read_dict[row_idx]:
                output.append(letter_dict[f'{row_idx}-{col_idx}'])
        return ''.join(output)
```

## 5. ç››æœ€å¤šæ°´çš„å®¹å™¨ <a id="largest_area">ğŸ“Œ</a>

> ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º` n `çš„æ•´æ•°æ•°ç»„` height `ã€‚æœ‰` n `æ¡å‚çº¿ï¼Œç¬¬` i `æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯` (i, 0) `å’Œ` (i, height[i]) `ã€‚
>
> æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸` x `è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚
>
> è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚
>
> **è¯´æ˜**ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚
>
> **ç¤ºä¾‹1**ï¼š
>
> <div align="center">
>   <img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/image-20220427201803783.png" width="60%" />
> </div>
>
> ```
> è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]
> è¾“å‡ºï¼š49 
> è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šheight = [1,1]
> è¾“å‡ºï¼š1
> ```
>
> **æç¤º**ï¼š
>
> - `n == height.length`
> - `2 <= n <= 10^5`
> - `0 <= height[i] <= 10^4`

**è§£é¢˜è¦ç‚¹**ï¼šè¿™ç§çœ‹èµ·æ¥å¯ä»¥ç”¨åŒå¾ªç¯è§£çš„é—®é¢˜ï¼Œåº”å½“é¦–è¦æƒ³èµ·<u>åŒæŒ‡é’ˆ</u>æ³•ã€‚åŒæŒ‡é’ˆæ³•çš„ç²¾é«“åœ¨äºå¯ä»¥ä»¥$O(N)$çš„å¤æ‚åº¦éå†åºåˆ—ä¸­çš„æ‰€æœ‰ä¸¤ä¸¤ç»„åˆã€‚æœ¬é¢˜çš„åŒæŒ‡é’ˆè§£æå¦‚ä¸‹ï¼š

- åˆ†åˆ«è®¾ç½®å·¦å³æŒ‡é’ˆï¼Œä½äºåˆ—è¡¨çš„é¦–é¡¹ä¸æœ«é¡¹
- æ¯æ¬¡éƒ½ç§»åŠ¨<u>æŒ‡å‘è¾ƒå°æ•°å­—</u>çš„ä¸€ä¸ªæŒ‡é’ˆã€‚
- ä¸Šè¿°åšæ³•åŸºäºä¸€ä¸ªäº‹å®ï¼Œè®¾`height[l]<height[r]`ï¼Œä¸”å³æŒ‡é’ˆåªèƒ½å‘å·¦ç§»åŠ¨ã€å·¦æŒ‡é’ˆåªèƒ½å‘å³ç§»åŠ¨ã€‚è‹¥å›ºå®šè¾ƒå°çš„æŒ‡é’ˆ`height[l]`ï¼Œåˆ™æ— è®ºå³æŒ‡é’ˆå¦‚ä½•ç§»åŠ¨ï¼Œå›´æˆçš„é¢ç§¯éƒ½`<=(r - l) * height[l]`
    - å³æŒ‡é’ˆå‘å·¦ç§»åŠ¨ï¼Œåˆ™`r - l`å¿…ç„¶ä¼šä¸‹é™
    - è‹¥å³æŒ‡é’ˆç§»åŠ¨åˆ°`r1`ä½ç½®
        - `height[r] < height[r1]`ï¼Œ`area = (r1 - l) * height[l]`
        - `height[r] >= height[r1]`,`area = (r1 - l) * height[r1] < (r1 - l) * height[l]`

**ä¼˜åŒ–ç­”æ¡ˆ**ï¼š

```python
class Solution:
    def get_area(self, idx1, idx2, height):
        a = height[idx1]
        b = height[idx2]
        return abs(idx1 - idx2) * min([a, b])

    def maxArea(self, height: List[int]) -> int:
        left_pin, right_pin = 0, len(height) - 1
        largest_area = self.get_area(0, 1, height)
        while left_pin < right_pin:
            area = self.get_area(left_pin, right_pin, height)
            if area > largest_area:
                largest_area = area
            if height[left_pin] <= height[right_pin]:
                left_pin += 1
            else: 
                right_pin -= 1
        return largest_area
```



## 6. æ•´æ•°è½¬ç½—é©¬æ•°å­—

> ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š` I`ï¼Œ` V`ï¼Œ` X`ï¼Œ` L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚
>
> å­—ç¬¦          æ•°å€¼
> I             1
> V             5
> X             10
> L             50
> C             100
> D             500
> M             1000
>
> ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2å†™åš` II `ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„1ã€‚12å†™åš` XII `ï¼Œå³ä¸º` X + II `ã€‚27å†™åš`  XXVII`, å³ä¸º` XX + V + II` ã€‚
>
> é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚` 4 `ä¸å†™åš` IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­—` 1 `åœ¨æ•°å­—` 5 `çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•°` 5` å‡å°æ•°` 1 `å¾—åˆ°çš„æ•°å€¼` 4 `ã€‚åŒæ ·åœ°ï¼Œæ•°å­— `9 `è¡¨ç¤ºä¸º` IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š
>
> `I `å¯ä»¥æ”¾åœ¨ `V `(5) å’Œ `X` (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
> `X `å¯ä»¥æ”¾åœ¨` L` (50) å’Œ `C `(100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
> `C `å¯ä»¥æ”¾åœ¨ `D` (500) å’Œ `M` (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚
> ç»™ä½ ä¸€ä¸ªæ•´æ•°ï¼Œå°†å…¶è½¬ä¸ºç½—é©¬æ•°å­—ã€‚
>
>  
>
> **ç¤ºä¾‹ 1**:
>
> ```
> è¾“å…¥: num = 3
> è¾“å‡º: "III"
> ```
>
> **ç¤ºä¾‹ 2**:
>
> ```
> è¾“å…¥: num = 4
> è¾“å‡º: "IV"
> ```
>
> **ç¤ºä¾‹ 3**:
>
> ```
> è¾“å…¥: num = 9
> è¾“å‡º: "IX"
> ```
>
> **ç¤ºä¾‹ 4**:
>
> ```
> è¾“å…¥: num = 58
> è¾“å‡º: "LVIII"
> è§£é‡Š: L = 50, V = 5, III = 3.
> ```
>
> **ç¤ºä¾‹ 5**:
>
> ```
> è¾“å…¥: num = 1994
> è¾“å‡º: "MCMXCIV"
> è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= num <= 3999`

**è§£é¢˜æ€è·¯**ï¼šæ•°å­—è½¬ç½—é©¬å­—çš„æ€è·¯ä¸ºï¼Œå¯¹æ•°å­—`num`å¯»æ‰¾ä¸è¶…è¿‡è¯¥æ•°çš„ç¬¦å·è¡¨ç¤ºï¼Œç„¶å`num`å‡å»å¯è¢«ç¬¦å·è¡¨ç¤ºçš„éƒ¨åˆ†ï¼Œç›´åˆ°`num`ä¸º0ã€‚

**å¤ä¹ ä¸€ä¸‹ç½—é©¬å­—è½¬æ•°å­—çš„åŸç†**ï¼šå¯¹ä»»æ„ç½—é©¬å­—ç¬¦ä¸²`string`ï¼Œå½“`string[i] < string[i+1]`

æ—¶ï¼Œ`string[i]`è¡¨ç¤ºçš„æ•´æ•°åº”è¢«è§†ä¸º<u>è´Ÿæ•°</u>ï¼›åä¹‹ï¼Œè‹¥`string[i] >= string[i+1]`ï¼Œ`string[i]`è¡¨ç¤ºçš„æ•´æ•°åº”è¢«è§†ä¸º<u>æ­£æ•°</u>ã€‚

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def intToRoman(self, num: int) -> str:
        key_list = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1]
        match_dict = {'1000': 'M', '500': 'D', '100': 'C', '50': 'L', '10': 'X', '5': 'V', '1': 'I',\
                    '900': 'CM', '400': 'CD', '90': 'XC', '40': 'XL', '4': 'IV', '9': 'IX'}
        output = []
        idx = 0
        while num > 0:
            n = num // key_list[idx]
            if n > 0:
                output = output + [match_dict[str(key_list[idx])]] * n
                num = num % key_list[idx]
            idx += 1
        return ''.join(output)
```

## 7. ä¸‰æ•°ä¹‹å’Œ <a id="three_sum">ğŸ“Œ</a>

> ç»™ä½ ä¸€ä¸ªåŒ…å«` n `ä¸ªæ•´æ•°çš„æ•°ç»„` nums`ï¼Œåˆ¤æ–­` nums `ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´ ` a`ï¼Œ`b`ï¼Œ`c `ï¼Œä½¿å¾—` a + b + c = 0 `ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚
>
> æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚
>
>  
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
> è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = []
> è¾“å‡ºï¼š[]
> ```
>
> **ç¤ºä¾‹ 3**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [0]
> è¾“å‡ºï¼š[]
> ```
>
> **æç¤º**ï¼š
>
> - `0 <= nums.length <= 3000`
> - `-10^5 <= nums[i] <= 10^5`

**ä¼˜åŒ–æ€è·¯**ï¼šæœ¬é¢˜ä½¿ç”¨<u>æ’åº+åŒæŒ‡é’ˆ</u>æ³•ï¼Œè¦ç‚¹æ€»ç»“å¦‚ä¸‹

- ä¿è¯`num1 <= num2 <= num3`ï¼Œå› æ­¤ä½¿ç”¨æ’åº
- å›ºå®š`num1`ï¼Œ`num2`å’Œ`num3`æŒ‡é’ˆåˆ†åˆ«ä½äºå‰©ä½™åºåˆ—çš„æœ€å·¦ä¾§å’Œæœ€æœ‰ä¾§ï¼Œ`num2`æŒ‡é’ˆå‘å³ç§»åŠ¨çš„æ—¶å€™ï¼Œ`num3`æŒ‡é’ˆå¯ä»¥åœ¨ä¸Šä¸€æ¬¡ç§»åŠ¨çš„åŸºç¡€ä¸Šç»§ç»­å‘å·¦ç§»åŠ¨ï¼ˆåŸå› åœ¨äºä¸Šä¸€è¦ç‚¹ä¸­çš„å¤§å°å…³ç³»ï¼‰
- åŒä¸€ä¸ªæŒ‡é’ˆç§»åŠ¨æ—¶çš„è¦ç‚¹åœ¨äºï¼šæœ¬æ¬¡æŒ‡å‘çš„æ•°å­—ä¸èƒ½å’Œä¸Šæ¬¡æŒ‡å‘çš„æ•°å­—ç›¸åŒ
- **ç»è¿‡å®éªŒï¼šå°‘åœ¨å¾ªç¯ä¸­è°ƒç”¨å³ä½¿å¾ˆç®€å•çš„å‡½æ•°ï¼Œè€Œæ˜¯ç”¨å¸¸æ•°ä»£æ›¿ï¼Œå¯ä»¥å¤§å¹…åº¦å‡å°‘è¿è¡Œæ—¶é—´**

**ä¼˜åŒ–ç­”æ¡ˆ**ï¼š

```python
class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        n = len(nums)
        if n < 3:
            return []
        nums.sort()
        output = []
        for num1_idx in range(n - 2):
            if num1_idx > 0 and nums[num1_idx] == nums[num1_idx - 1]:
                # num1æŒ‡é’ˆä»…æŒ‡å‘ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæˆ–è€…ä»»ä½•ä¸ä¸Šä¸€ä¸ªå€¼ä¸ç›¸ç­‰çš„å€¼ä¸Šã€‚
                continue
            # åŒæŒ‡é’ˆï¼š
            # NOTE: num2_idxåªèƒ½å‘å³ç§»åŠ¨ï¼Œnum3_idxåªèƒ½å‘å·¦ç§»åŠ¨ï¼Œä¸‹é¢è¿™å¥æ”¾åœ¨ç¬¬äºŒä¸ªå¾ªç¯å¤–ï¼Œä½¿å¾—æ¯æ¬¡num2_idxå‘å³ç§»åŠ¨çš„æ—¶å€™ï¼Œnum_idxéƒ½åªèƒ½ä»ä¸Šæ¬¡çš„åœ°æ–¹æ¥ç€ç§»åŠ¨ï¼Œè¿™å¤§å¹…åº¦å‡å°‘äº†è¿è¡Œæ—¶é—´ï¼Œä¸”ç¬¦åˆè¦æ±‚ï¼šå›ºå®šnum1çš„æƒ…å†µä¸‹ï¼Œnum2å¢å¤§ï¼Œnum3åªèƒ½å‡å°
            num3_idx = n - 1
            for num2_idx in range(num1_idx+1, n-1):
                if num2_idx > num1_idx+1 and nums[num2_idx] == nums[num2_idx - 1]:
                    # num2æŒ‡é’ˆä»…æŒ‡å‘ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæˆ–è€…ä»»ä½•ä¸ä¸Šä¸€ä¸ªå€¼ä¸ç›¸ç­‰çš„å€¼ä¸Šã€‚
                    continue
                # ä¿è¯æŒ‡é’ˆé¡ºåºï¼Œä½¿ç¬¬ä¸‰ä¸ªæŒ‡é’ˆæŒ‡å‘ä½¿ä¸‰ä¸ªæ•°ä¹‹å’Œå°äºç­‰äº0çš„ä½ç½®ä¸Š
                while num2_idx < num3_idx and nums[num2_idx] + nums[num3_idx] > 0 - nums[num1_idx]:
                    num3_idx -= 1
                if num2_idx >= num3_idx:
                    break
                # æ­¤æ—¶æœ‰ä¸¤ç§æƒ…å†µï¼Œå°äº0ã€ç­‰äº0
                if nums[num2_idx] + nums[num3_idx] + nums[num1_idx] == 0:
                    output.append([nums[num1_idx], nums[num2_idx], nums[num3_idx]])
        return output
```

## 8. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ <a id="closest_target">ğŸ“Œ</a>

> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º` n `çš„æ•´æ•°æ•°ç»„` nums `å’Œ ä¸€ä¸ªç›®æ ‡å€¼` target`ã€‚è¯·ä½ ä»` nums `ä¸­é€‰å‡ºä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸` target `æœ€æ¥è¿‘ã€‚
>
> è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚
>
> å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨æ°å¥½ä¸€ä¸ªè§£ã€‚
>
>  
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [-1,2,1,-4], target = 1
> è¾“å‡ºï¼š2
> è§£é‡Šï¼šä¸ target æœ€æ¥è¿‘çš„å’Œæ˜¯ 2 (-1 + 2 + 1 = 2) ã€‚
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [0,0,0], target = 1
> è¾“å‡ºï¼š0
> ```
>
> **æç¤º**ï¼š
>
> - `3 <= nums.length <= 1000`
> - `-1000 <= nums[i] <= 1000`
> - `-10^4 <= target <= 10^4`

**è§£é¢˜æ€è·¯**ï¼šæœ¬é¢˜å’Œä¸Šä¸€é¢˜ä¸€æ ·ï¼Œä»ç„¶æ˜¯<u>æ’åº+åŒæŒ‡é’ˆæ€è·¯</u>ï¼Œè¿™é‡Œè®°ä½ä¸è¦è¢«ä»£ç æ¨¡ç‰ˆï¼ŒåŒæŒ‡é’ˆç²¾é«“åœ¨äº<u>æ ¹æ®é¢˜ç›®ç›®æ ‡ï¼ŒæŒ‡å®šæŒ‡é’ˆç§»åŠ¨æ–¹å‘</u>ï¼Œä»¥åŠæœ€ä¼˜å€¼æ›´æ–°ç­–ç•¥ã€‚

**acceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def threeSumClosest(self, nums: List[int], target: int) -> int:
        nums.sort()
        output = 1e8
        n = len(nums)
        for num1_idx in range(n-2):
            if num1_idx > 0 and nums[num1_idx] == nums[num1_idx - 1]:
                continue
            num1 = nums[num1_idx]
            # åŒæŒ‡é’ˆ
            num2_idx = num1_idx + 1
            num3_idx = n - 1
            while num2_idx < num3_idx:
                res = nums[num1_idx] + nums[num2_idx] + nums[num3_idx]
                # å¯¹ç°åœ¨æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®åšè¯„ä¼°
                if res == target:
                    return target
                if abs(output - target) > abs(res - target):
                    output = res
                # ä¸ºä¸‹æ¬¡åˆ¤æ–­ç§»åŠ¨æŒ‡é’ˆï¼Œå‘æ›´æ¥è¿‘targetçš„æ–¹å‘ç§»åŠ¨
                if res < target:
                    # ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä¸é‡å¤çš„æ•°
                    num2_idx_new = num2_idx + 1
                    while num2_idx_new < num3_idx and nums[num2_idx_new] == nums[num2_idx]:
                        num2_idx_new += 1
                    num2_idx = num2_idx_new
                else:
                    # ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä¸é‡å¤çš„æ•°
                    num3_idx_new = num3_idx - 1
                    while num2_idx < num3_idx_new and nums[num3_idx_new] == nums[num3_idx]:
                        num3_idx_new -= 1
                    num3_idx = num3_idx_new
        return output
```

## 9.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ<a id="comb_phonenumber">ğŸ“Œ</a>

> ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­—` 2-9 `çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚
>
> ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„` 1 `ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚
>
> <div align="center">
>   <img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/image-20220428204212998.png" alt="image-20220428204212998" width="30%"/>
> </div> 
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šdigits = "23"
> è¾“å‡ºï¼š["ad","ae","af","bd","be","bf","cd","ce","cf"]
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šdigits = ""
> è¾“å‡ºï¼š[]
> ```
>
> **ç¤ºä¾‹ 3**ï¼š
>
> ```
> è¾“å…¥ï¼šdigits = "2"
> è¾“å‡ºï¼š["a","b","c"]
> ```
>
> **æç¤º**ï¼š
>
> - `0 <= digits.length <= 4`
> - `digits[i] `æ˜¯èŒƒå›´` ['2', '9'] `çš„ä¸€ä¸ªæ•°å­—ã€‚



**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def letterCombinations(self, digits: str) -> List[str]:
        if len(digits) == 0:
            return []
        number_dict = {'2': ['a', 'b', 'c'], \
                       '3': ['d', 'e', 'f'], \
                       '4': ['g', 'h', 'i'], \
                       '5': ['j', 'k', 'l'], \
                       '6': ['m', 'n', 'o'], \
                       '7': ['p', 'q', 'r', 's'], \
                       '8': ['t', 'u', 'v'], 
                       '9': ['w', 'x', 'y', 'z']}
        tmp = [] # list of letter
        for num in digits:
            tmp.append(number_dict[num])
        # è¾“å…¥â€˜234â€™ï¼Œé—®é¢˜å¯åˆ†è§£ä¸ºä»£è¡¨â€˜4â€™çš„å­—æ¯æ’åˆ—åˆ†åˆ«å’Œä»£è¡¨å­—æ¯â€˜3â€™çš„å­—æ¯åšæ’åˆ—
        def output_list(list1, list2):
            # list1: ['a', 'b', 'c']
            # list2: ['d', 'e', 'f']
            output = []
            for i in list1:
                for j in list2:
                    output.append(''.join([i, j]))
            return output
        num_list = len(tmp)
        output = tmp[0]
        for idx in range(1, num_list):
            output = output_list(output, tmp[idx])
        return output
```

**ä¼˜åŒ–æ€è·¯**ï¼šå›æº¯â€”â€”å›æº¯ç®—æ³•ç”¨äºå¯»æ‰¾æ‰€æœ‰çš„å¯è¡Œè§£ï¼Œå¦‚æœå‘ç°ä¸€ä¸ªè§£ä¸å¯è¡Œï¼Œåˆ™ä¼šèˆå¼ƒä¸å¯è¡Œçš„è§£ã€‚åœ¨è¿™é“é¢˜ä¸­ï¼Œç”±äºæ¯ä¸ªæ•°å­—å¯¹åº”çš„æ¯ä¸ªå­—æ¯éƒ½å¯èƒ½è¿›å…¥å­—æ¯ç»„åˆï¼Œå› æ­¤ä¸å­˜åœ¨ä¸å¯è¡Œçš„è§£ï¼Œç›´æ¥ç©·ä¸¾æ‰€æœ‰çš„è§£å³å¯ã€‚

**ä¼˜åŒ–ç­”æ¡ˆ**ï¼š

```python
class Solution:
    def letterCombinations(self, digits: str) -> List[str]:
        if len(digits) == 0:
            return []
        number_dict = {'2': ['a', 'b', 'c'], \
                       '3': ['d', 'e', 'f'], \
                       '4': ['g', 'h', 'i'], \
                       '5': ['j', 'k', 'l'], \
                       '6': ['m', 'n', 'o'], \
                       '7': ['p', 'q', 'r', 's'], \
                       '8': ['t', 'u', 'v'], 
                       '9': ['w', 'x', 'y', 'z']}
        # å›æº¯ï¼Œæœ‰ç‚¹åƒæ·±åº¦éå†æ ‘
        def backtrack(idx):
            # idxå¯ä»¥ç†è§£ä¸ºæ ‘çš„å±‚çº§
            if idx == len(digits):
                output.append(''.join(stack))
            else:
                num = digits[idx]
                for letter in number_dict[num]:
                    stack.append(letter)
                    backtrack(idx+1)
                    # ä¸Šä¸€å¥å¾—åˆ°è¿”å›çš„æ—¶å€™ï¼Œä»£è¡¨ç¬¬idxå±‚å·²ç»æ·±åº¦éå†å®Œæ¯•ï¼Œåˆ é™¤æœ€åä¸€æ¬¡çš„è·¯å¾„
                    stack.pop()

        output = [] # å­˜å‚¨æ‰€æœ‰ç»“æœ
        stack = [] # å­˜å‚¨ä¸€æ¬¡éå†è·¯å¾„
        backtrack(0)
        return output
```

## 10. æ•´æ•°åè½¬

> ç»™ä½ ä¸€ä¸ª 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°` x `ï¼Œè¿”å›å°†` x `ä¸­çš„æ•°å­—éƒ¨åˆ†åè½¬åçš„ç»“æœã€‚
>
> å¦‚æœåè½¬åæ•´æ•°è¶…è¿‡ 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°çš„èŒƒå›´` [âˆ’2^31,  2^31 âˆ’ 1] `ï¼Œå°±è¿”å› 0ã€‚
>
> **å‡è®¾ç¯å¢ƒä¸å…è®¸å­˜å‚¨ 64 ä½æ•´æ•°ï¼ˆæœ‰ç¬¦å·æˆ–æ— ç¬¦å·ï¼‰ã€‚**
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šx = 123
> è¾“å‡ºï¼š321
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šx = -123
> è¾“å‡ºï¼š-321
> ```
>
> **ç¤ºä¾‹ 3**ï¼š
>
> ```
> è¾“å…¥ï¼šx = 120
> è¾“å‡ºï¼š21
> ```
>
> **ç¤ºä¾‹ 4**ï¼š
>
> ```
> è¾“å…¥ï¼šx = 0
> è¾“å‡ºï¼š0
> ```
>
> **æç¤º**ï¼š
>
> - `-2^31 <= x <= 2^31 - 1`

**è§£é¢˜è¦ç‚¹**ï¼šå‡è®¾ç¯å¢ƒä¸å…è®¸å­˜å‚¨64ä½æ•´æ•°ï¼Œå³éœ€è¦æˆ‘ä»¬åœ¨ä¹˜10æ“ä½œä¹‹å‰è¿›è¡Œåˆ¤æ–­

**acceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def reverse(self, x: int) -> int:
        is_neg = True if x < 0 else False
        x = abs(x)

        output = 0 
        while x != 0:
            if (is_neg is False and output > (2**31-1) // 10) or \
               (is_neg is True and output > (2**31) // 10):
                # è¶…å‡ºäº†è¡¨ç¤ºèŒƒå›´
                return 0
            low = x % 10 # æœ€ä½ä½
            x = x // 10
            output = output * 10 + low

        if is_neg: output = - output
        return output
```

## 11. å­—ç¬¦ä¸²è½¬æ•´æ•°ï¼ˆatoiï¼‰

> è¯·ä½ æ¥å®ç°ä¸€ä¸ª` myAtoi(string s) `å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„` atoi `å‡½æ•°ï¼‰ã€‚
>
> å‡½æ•°` myAtoi(string s) `çš„ç®—æ³•å¦‚ä¸‹ï¼š
>
> 1. è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼
> 2. æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚
> 3. è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚
> 4. å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œ`"123" `-> `123`ï¼Œ` "0032"` ->` 32`ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º 0 ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚
> 5. å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´` [âˆ’2^31,  2^31 âˆ’ 1]` ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº` âˆ’2^31 `çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º` âˆ’2^31` ï¼Œå¤§äº1çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º` 2^31 âˆ’ 1 `ã€‚
> 6. è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚
>
> **æ³¨æ„**ï¼š
>
> - æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦` ' '` ã€‚
> - é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œè¯·å‹¿å¿½ç•¥ ä»»ä½•å…¶ä»–å­—ç¬¦ã€‚
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šs = "42"
> è¾“å‡ºï¼š42
> è§£é‡Šï¼šåŠ ç²—çš„å­—ç¬¦ä¸²ä¸ºå·²ç»è¯»å…¥çš„å­—ç¬¦ï¼Œæ’å…¥ç¬¦å·æ˜¯å½“å‰è¯»å–çš„å­—ç¬¦ã€‚
> ç¬¬ 1 æ­¥ï¼š"42"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
>          ^
> ç¬¬ 2 æ­¥ï¼š"42"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ '-' æˆ–è€… '+'ï¼‰
>          ^
> ç¬¬ 3 æ­¥ï¼š"42"ï¼ˆè¯»å…¥ "42"ï¼‰
>            ^
> è§£æå¾—åˆ°æ•´æ•° 42 ã€‚
> ç”±äº "42" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 42 ã€‚
> ```
>
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šs = "   -42"
> è¾“å‡ºï¼š-42
> è§£é‡Šï¼š
> ç¬¬ 1 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥å‰å¯¼ç©ºæ ¼ï¼Œä½†å¿½è§†æ‰ï¼‰
>             ^
> ç¬¬ 2 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥ '-' å­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼‰
>              ^
> ç¬¬ 3 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥ "42"ï¼‰
>                ^
> è§£æå¾—åˆ°æ•´æ•° -42 ã€‚
> ç”±äº "-42" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º -42 ã€‚
> ```
>
> **ç¤ºä¾‹ 3**ï¼š
>
> ```
> è¾“å…¥ï¼šs = "4193 with words"
> è¾“å‡ºï¼š4193
> è§£é‡Šï¼š
> ç¬¬ 1 æ­¥ï¼š"4193 with words"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
>          ^
> ç¬¬ 2 æ­¥ï¼š"4193 with words"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ '-' æˆ–è€… '+'ï¼‰
>          ^
> ç¬¬ 3 æ­¥ï¼š"4193 with words"ï¼ˆè¯»å…¥ "4193"ï¼›ç”±äºä¸‹ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥è¯»å…¥åœæ­¢ï¼‰
>              ^
> è§£æå¾—åˆ°æ•´æ•° 4193 ã€‚
> ç”±äº "4193" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 4193 ã€‚
> ```
>
> **æç¤º**ï¼š
>
> - `0 <= s.length <= 200`
> - `s `ç”±è‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œå°å†™ï¼‰ã€æ•°å­—ï¼ˆ0-9ï¼‰ã€`' '`ã€`'+'`ã€`'-'` å’Œ` '.' `ç»„æˆ

**åŸacceptä»£ç **ï¼š

```python
class Solution:
    def myAtoi(self, s: str) -> int:
        # ä¸¢å¼ƒå‰å¯¼ç©ºæ ¼
        s = s.lstrip(' ')
        output = 0
        is_neg = False
        for i, item in enumerate(s):
            if i == 0:
                try: 
                    output = int(item)
                except:
                    if item == '-':
                        is_neg = True
                    elif item == '+':
                        is_neg = False
                    else:
                        return 0
            else:
                # åˆ¤æ–­æ˜¯å¦è¯»å…¥éæ•°å­—å­—ç¬¦
                try:
                    output = output * 10 + int(item)
                except:
                    break
        output = - output if is_neg else output
        if output > 2**31 - 1: output = 2**31 - 1
        elif output < - (2**31): output = - (2**31)
        return output
```

**è§£é¢˜æ€è·¯**ï¼š<u>ç¡®å®šæœ‰é™çŠ¶æ€æœºï¼ˆdeterministic finite automaton, DFAï¼‰</u>ï¼Œä¸å¤ªæ¸…æ¥šå¹²å˜›è¦ç”¨è¿™ä¹ˆå¤æ‚çš„æ–¹æ³•ï¼Œä»¥åå¯ä»¥çœ‹çœ‹ã€‚

## 12. å››æ•°ä¹‹å’Œ <a id="four_sum">ğŸ“Œ</a>

> ç»™ä½ ä¸€ä¸ªç”±` n `ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„` nums `ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼` target `ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”ä¸é‡å¤çš„å››å…ƒç»„` [nums[a], nums[b], nums[c], nums[d]] `ï¼ˆè‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š
>
> - `0 <= a, b, c, d < n`
> - `a`ã€`b`ã€`c `å’Œ` d `äº’ä¸ç›¸åŒ
> - `nums[a] + nums[b] + nums[c] + nums[d] == target`
> - ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆ ã€‚
>
>  
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [1,0,-1,0,-2,2], target = 0
> è¾“å‡ºï¼š[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [2,2,2,2,2], target = 8
> è¾“å‡ºï¼š[[2,2,2,2]]
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= nums.length <= 200`
> - `-10^9 <= nums[i] <= 10^9`
> - `-10^9 <= target <= 10^9`

**è§£é¢˜æ€è·¯**ï¼šæœ¬é¢˜çš„æ€è·¯ä¸ [ä¸‰æ•°ä¹‹å’Œ](#three_sum) ä¸€æ ·ï¼Œå³â€œ<u>æ’åº+åŒæŒ‡é’ˆ</u>â€ï¼Œæ³¨æ„å¯ä»¥è€ƒè™‘ä»¥ä¸‹å‰ªææ“ä½œï¼š

- ç¡®å®š`num1 = nums[p1]`åï¼Œè‹¥`nums[p1] + ... + nums[p1 + 3] > target`ï¼Œå³æœ€å°æ•°çš„ç»„åˆéƒ½å¤§äº`target`ï¼Œåˆ™å¯ä»¥è·³å‡ºç¬¬ä¸€ä¸ªå¾ªç¯ã€‚
- åŒç†ï¼Œ`num1 = nums[p1]`åï¼Œè‹¥`nums[p1] + nums[n - 1] + ... + nums[n - 3] < target`ï¼Œå³æœ€å¤§æ•°çš„ç»„åˆéƒ½å°äº`target`ï¼Œåˆ™å¯ä»¥è·³å‡ºç¬¬ä¸€ä¸ªå¾ªç¯ã€‚
- ä¸Šè¿°è§„åˆ™ä¹Ÿé€‚ç”¨äºç¬¬äºŒä¸ªå¾ªç¯ã€‚

**acceptä»£ç **ï¼š

```python
class Solution:
    def move_pin(self, nums, p, direction):
        if direction == '+':
            p_new = p + 1
            if nums[p_new] == nums[p_new - 1]:
                p_new += 1
            p_out = p_new
        else:
            p_new = p - 1
            if nums[p_new] == nums[p_new + 1]:
                p_new -= 1
            p_out = p_new   
        return p_out     
    def fourSum(self, nums: List[int], target: int) -> List[List[int]]:
        n = len(nums)
        if n < 4:
            return []
        output = []
        nums.sort()
        for p1 in range(n - 3):
            if p1 > 0 and nums[p1] == nums[p1 - 1]:
                continue
            if nums[p1] + nums[p1 + 1] + nums[p1 + 2] + nums[p1 + 3] > target:
                continue
            if nums[p1] + nums[n - 1] + nums[n - 2] + nums[n - 3] < target:
                continue
            n1 = nums[p1]
            for p2 in range(p1 + 1, n - 2):
                if p2 > p1 + 1 and nums[p2] == nums[p2 - 1]:
                    continue
                if nums[p1] + nums[p2] + nums[p2 + 1] + nums[p2 + 2] > target:
                    continue
                if nums[p1] + nums[p2] + nums[n - 1] + nums[n - 2] < target:
                    continue
                n2 = nums[p2]
                # åŒæŒ‡é’ˆ
                p3 = p2 + 1
                p4 = n - 1
                while p3 < p4:
                    if n1 + n2 + nums[p3] + nums[p4] == target:
                        if [n1, n2, nums[p3], nums[p4]] not in output:
                            output.append([n1, n2, nums[p3], nums[p4]])
                        # p3 p4å„è‡ªç§»åŠ¨ä¸€æ¬¡
                        p3 = self.move_pin(nums, p3, '+')
                        p4 = self.move_pin(nums, p4, '-')
                    elif n1 + n2 + nums[p3] + nums[p4] < target:
                        p3 = self.move_pin(nums, p3, '+')
                    else:
                        p4 = self.move_pin(nums, p4, '-')
        return output
```

## 13. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ `n` ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> <div align="center">
>   <img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/image-20220429161243362.png" alt="image-20220429161243362" width="50%" />
> </div>
>
> ```
> è¾“å…¥ï¼šhead = [1,2,3,4,5], n = 2
> è¾“å‡ºï¼š[1,2,3,5]
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šhead = [1], n = 1
> è¾“å‡ºï¼š[]
> ```
>
> **ç¤ºä¾‹ 3**ï¼š
>
> ```
> è¾“å…¥ï¼šhead = [1,2], n = 1
> è¾“å‡ºï¼š[1]
> ```
>
> **æç¤º**ï¼š
>
> - é“¾è¡¨ä¸­ç»“ç‚¹çš„æ•°ç›®ä¸º` sz`
> - `1 <= sz <= 30`
> - `0 <= Node.val <= 100`
> - `1 <= n <= sz`
>
> **è¿›é˜¶**ï¼šä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ

**åŸacceptä»£ç **ï¼š

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def removeNthFromEnd(self, head: ListNode, n: int) -> ListNode:
        # æ€è·¯ï¼šå¦‚æœæƒ³ä¸€æ¬¡æ‰«æï¼Œåˆ™åœ¨æ¯æ¬¡æ‰«æåˆ°æ–°èŠ‚ç‚¹çš„æ—¶å€™ï¼Œéƒ½ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘è¦åˆ é™¤çš„èŠ‚ç‚¹ä¹‹å‰å’Œä¹‹åçš„èŠ‚ç‚¹ã€‚
        # åªè¦éå†èŠ‚ç‚¹åˆ°æœ€åä¸€ä¸ªå³å¯
        if head.next is None and n == 1:
            return None
        output_head = head
        node_idx = 0 # æœ¬æ¬¡éå†åˆ°çš„èŠ‚ç‚¹çš„ç´¢å¼•
        node_list = []
        while head is not None:
            # æœ¬æ¬¡éå†åˆ°çš„èŠ‚ç‚¹ç´¢å¼• node_idx
            node_list.append(head)
            delete_idx = node_idx - n + 1
            if delete_idx >= 0:
                # å­˜åœ¨ä¸€ä¸ªè¦åˆ é™¤çš„èŠ‚ç‚¹äº†
                delete_font = delete_idx - 1
                delete_rear = delete_idx + 1
            # éå†ä¸‹ä¸€ä¸ª
            head = head.next
            node_idx += 1
        sz = len(node_list)
        if delete_rear < sz and delete_font >= 0:
            node_list[delete_font].next = node_list[delete_rear]
        elif delete_rear >= sz:
            node_list[delete_font].next = None
        elif delete_font < 0:
            return node_list[delete_rear]
        return output_head
```

**è§£é¢˜æ€è·¯**ï¼šå¦‚æœæƒ³ä¸€æ¬¡æ‰«æè§£å†³æ”¹é—®é¢˜ï¼Œåˆ™åœ¨æ¯æ¬¡æ‰«æåˆ°æ–°èŠ‚ç‚¹çš„æ—¶å€™ï¼Œéƒ½ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘è¦åˆ é™¤çš„èŠ‚ç‚¹ä¹‹å‰å’Œä¹‹åçš„èŠ‚ç‚¹ã€‚ç„¶åç­‰å¾…ç®—æ³•éå†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹å³å¯ã€‚

**ä¼˜åŒ–æ€è·¯**ï¼š

- å¯ä»¥ä¸å€ŸåŠ©åˆ—è¡¨å­˜å‚¨Nodeï¼Œä»…å€ŸåŠ©æŒ‡é’ˆæŒ‡å‘è¦åˆ é™¤èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹
- å¯ä»¥è®¾ç½®å“‘èŠ‚ç‚¹ï¼ˆdummyï¼‰ï¼Œè¯¥èŠ‚ç‚¹æŒ‡å‘å¤´æŒ‡é’ˆï¼Œè¿™æ ·å°±æ— éœ€å¯¹å¤´æŒ‡é’ˆåšç‰¹æ®Šçš„åˆ¤æ–­ã€‚

**ä¼˜åŒ–ç­”æ¡ˆ**ï¼š

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def removeNthFromEnd(self, head: ListNode, n: int) -> ListNode:
        dummy = ListNode(-1, head)
        # init
        second = dummy # æŒ‡å‘è¦åˆ é™¤èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ï¼Œå³ä¸firstç›¸èšnä¸ªèŠ‚ç‚¹
        for i in range(n):
            first = head
            head = head.next
        while head is not None:
            first = head
            second = second.next
            head = head.next
        # åˆ é™¤èŠ‚ç‚¹
        second.next = second.next.next
        return dummy.next
```

## 14. æ‹¬å·ç”Ÿæˆ

> æ•°å­—` n `ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” **æœ‰æ•ˆçš„** æ‹¬å·ç»„åˆã€‚
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šn = 3
> è¾“å‡ºï¼š["((()))","(()())","(())()","()(())","()()()"]
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šn = 1
> è¾“å‡ºï¼š["()"]
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= n <= 8`

**è§£é¢˜æ€è·¯**ï¼šæœ¬é¢˜é¦–å…ˆä¸€å®šè¦ç”¨åˆ°é€’å½’ï¼Œé‡ç‚¹åœ¨äºé—®é¢˜åˆ†è§£ã€‚æœ¬é¢˜çš„åˆ†è§£æ€è·¯ä¸ºï¼š

ç”ŸæˆåŒ…å«`n`ä¸ªæ‹¬å·çš„é—®é¢˜`gp(n)`ï¼Œå…¶åŸºæœ¬å½¢å¼ä¸º`(a)b`ï¼Œ`a`, `b`åˆ†åˆ«ä»£è¡¨ä¸€ä¸ªæœ‰æ•ˆçš„æ‹¬å·åºåˆ—ï¼Œ`a`, `b`å¯ä»¥ä¸ºç©ºã€‚

**acceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def generateParenthesis(self, n: int) -> List[str]:
        # gp(n)å¯ä»¥åˆ†è§£ä¸ºåŸºæœ¬å½¢å¼:(a)b
        # a, båˆ†åˆ«ä»£è¡¨ä¸€ä¸ªæœ‰æ•ˆçš„æ‹¬å·åºåˆ—ï¼Œa, bå¯ä»¥ä¸ºç©º
        def gen(num):
            if num == 1:
                return ['()']
            elif num == 0:
                return ['']
            this_output = []
            for a in range(0, num):
                b = num - a - 1
                a_seq = gen(a)
                b_seq = gen(b)
                for item_a in a_seq:
                    for item_b in b_seq:
                        this_output.append(f'({item_a}){item_b}')
            this_output = list(set(this_output))
            return this_output
        return gen(n)
```

## 15. ä¸¤ä¸¤äº¤æ¢åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ä½ å¿…é¡»åœ¨ä¸ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼çš„æƒ…å†µä¸‹å®Œæˆæœ¬é¢˜ï¼ˆå³ï¼Œåªèƒ½è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ï¼‰ã€‚
>
>  <div align="center">
>    <img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/image-20220505235347394.png" alt="image-20220505235347394" width="40%" />
>   </div>
>
>
> 
>
> 
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šhead = [1,2,3,4]
> è¾“å‡ºï¼š[2,1,4,3]
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šhead = []
> è¾“å‡ºï¼š[]
> ```
>
> **ç¤ºä¾‹ 3**ï¼š
>
> ```
> è¾“å…¥ï¼šhead = [1]
> è¾“å‡ºï¼š[1]
> ```
>
> **æç¤º**ï¼š
>
> - é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´` [0, 100] `å†…
> - `0 <= Node.val <= 100`

**è§£é¢˜æ€è·¯**ï¼šå®šä¹‰å“‘èŠ‚ç‚¹ï¼Œæ¢³ç†èŠ‚ç‚¹çš„è¿­ä»£äº¤æ¢æ­¥éª¤ï¼Œå¹¶å†™å‡ºé€šç”¨çš„è¿­ä»£æ­¥éª¤

**åŸacceptç­”æ¡ˆ**ï¼š

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def swapPairs(self, head: ListNode) -> ListNode:
        if head is None or head.next is None:
            return head
        dumb = ListNode(-1, head)
        first = dumb
        second = dumb.next
        while second and first and second.next:
            first.next = second.next
            second.next = second.next.next
            first.next.next = second
            # next step
            first = first.next.next
            second = first.next
        return dumb.next
```

## 16. ä¸¤æ•°ç›¸é™¤ <a id="two_divide">ğŸ“Œ</a>

> ç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œè¢«é™¤æ•°` dividend `å’Œé™¤æ•°` divisor`ã€‚å°†ä¸¤æ•°ç›¸é™¤ï¼Œè¦æ±‚ä¸ä½¿ç”¨ä¹˜æ³•ã€é™¤æ³•å’Œ` mod `è¿ç®—ç¬¦ã€‚
>
> è¿”å›è¢«é™¤æ•°` dividend `é™¤ä»¥é™¤æ•°` divisor `å¾—åˆ°çš„å•†ã€‚
>
> æ•´æ•°é™¤æ³•çš„ç»“æœåº”å½“æˆªå»ï¼ˆtruncateï¼‰å…¶å°æ•°éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼š`truncate(8.345) = 8 `ä»¥åŠ `truncate(-2.7335) = -2`
>
> **ç¤ºä¾‹ 1**:
>
> ```
> è¾“å…¥: dividend = 10, divisor = 3
> è¾“å‡º: 3
> è§£é‡Š: 10/3 = truncate(3.33333..) = truncate(3) = 3
> ```
>
> **ç¤ºä¾‹ 2**:
>
> ```
> è¾“å…¥: dividend = 7, divisor = -3
> è¾“å‡º: -2
> è§£é‡Š: 7/-3 = truncate(-2.33333..) = -2
> ```
>
> 
>
> **æç¤º**ï¼š
>
> - è¢«é™¤æ•°å’Œé™¤æ•°å‡ä¸º` 32 `ä½æœ‰ç¬¦å·æ•´æ•°ã€‚
> - é™¤æ•°ä¸ä¸º` 0`ã€‚
> - å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯` [âˆ’2^31,  2^31 âˆ’ 1]`ã€‚æœ¬é¢˜ä¸­ï¼Œå¦‚æœé™¤æ³•ç»“æœæº¢å‡ºï¼Œåˆ™è¿”å›` 2^31 âˆ’ 1`ã€‚

**è§£é¢˜æ€è·¯**ï¼šäºŒåˆ†æ³•æŸ¥æ‰¾ä½¿å¾—`res * divisor <= dividend < (res + 1) * divisor`çš„æ•°

**acceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def mul(self, x, y):
        # x * y
        res = 0
        while y > 0:
            if (y & 1) == 1:
                # yçš„æœ€ä½ä½
                res += x # æ­¤æ—¶æœ€ä½ä½ä»£è¡¨åŠ ä¸€æ¬¡x
            # next loop
            y >>= 1 # yå‘å³ç§»åŠ¨ä¸€ä½
            x += x # yå‘å³ç§»åŠ¨ä¹‹åï¼Œxæ‰€ä»£è¡¨çš„å«ä¹‰è¦ç¿»å€
        return res
    def divide(self, dividend: int, divisor: int) -> int:
        int_max = 2 ** 31 - 1
        int_min = - 2 ** 31
        # è¾¹ç•Œæƒ…å†µ
        if dividend == int_min and divisor == -1:
            return int_max
        if dividend == 0:
            return 0
    
        if (dividend > 0 and divisor > 0) or (dividend < 0 and divisor < 0):
            is_neg = False
        else:
            is_neg = True
        dividend, divisor = abs(dividend), abs(divisor)
        # äºŒåˆ†æ³•æŸ¥æ‰¾ä½¿å¾—res * divisor <= dividend < (res + 1) * divisorçš„æ•°
        # res in [0, dividend]
        left, right = 0, dividend
        while left < right:
            # mid = (left + right) / 2
            mid = (left + right + 1) >> 1
            # if mid * divisor > dividend
            if self.mul(divisor, mid) <= dividend:
                # NOTE: midä¸­çš„//ä¸>>1éƒ½æ˜¯å‘ä¸‹å–æ•´çš„æ“ä½œï¼Œæ‰€ä»¥åœ¨ç§»åŠ¨å·¦æŒ‡é’ˆçš„æ—¶å€™è¦åŠ 1ï¼Œé˜²æ­¢æ­»å¾ªç¯
                left = mid
            else:
                right = mid - 1
        output = - left if is_neg else left
        return output
```



## 17. å…¨æ’åˆ—

> ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ `nums `ï¼Œè¿”å›å…¶ **æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—** ã€‚ä½ å¯ä»¥ **æŒ‰ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆã€‚ 
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [1,2,3]
> è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [0,1]
> è¾“å‡ºï¼š[[0,1],[1,0]]
> ```
>
> **ç¤ºä¾‹ 3**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [1]
> è¾“å‡ºï¼š[[1]]
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= nums.length <= 6`
> - `-10 <= nums[i] <= 10`
> - `nums `ä¸­çš„æ‰€æœ‰æ•´æ•° **äº’ä¸ç›¸åŒ**

**è§£é¢˜æ€è·¯**ï¼šå…¨æ’åˆ—é—®é¢˜å¯ä»¥åˆ†è§£ä¸ºï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸ªä¸æƒ³ç­‰çš„å…ƒç´ åšå¼€å¤´ï¼Œ+ å…¶ä½™å…ƒç´ çš„å…¨æ’åˆ—

**åŸacceptä»£ç **ï¼š

```python
class Solution:
    def permute(self, nums: List[int]) -> List[List[int]]:
        # åŸå‡½æ•°ï¼šè¿”å›ä¸€ä¸ªåˆ—è¡¨çš„å…¨æ’åˆ—
        # é€’å½’ï¼šä¸€ä¸ªåˆ—è¡¨çš„å…¨æ’åˆ—ï¼Œæ˜¯å…¶ä¸­æ¯ä¸ªå…ƒç´ åšé¦–ä½ï¼Œå…¶ä½™å…ƒç´ å…¨æ’åˆ—çš„ç»“æœ
        if len(nums) == 1:
            return [nums]
        else:
            output = []
            for i, item in enumerate(nums):
                # ä»¥itemä¸ºé¦–ä½
                if i != len(nums) - 1:
                    tmp_res = self.permute(nums[0:i] + nums[i+1:])
                else: 
                    tmp_res = self.permute(nums[0:i])
                # tmp_res å…¶ä»–å…ƒç´ çš„å…¨æ’åˆ—
                output += [[item] + res for res in tmp_res]
            return output
```

## 18. å…¨æ’åˆ—II

> ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ—` nums `ï¼ŒæŒ‰**ä»»æ„é¡ºåº** è¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [1,1,2]
> è¾“å‡ºï¼š
> [[1,1,2],
>  [1,2,1],
>  [2,1,1]]
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šnums = [1,2,3]
> è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= nums.length <= 8`
> - `-10 <= nums[i] <= 10`

**è§£é¢˜æ€è·¯**ï¼šåŸé—®é¢˜åˆ†è§£ä¸ºï¼Œä»¥æ¯ä¸ªä¸ç›¸åŒçš„å…ƒç´ åšå¼€å¤´ï¼Œ+ å…¶ä½™å…ƒç´ çš„å…¨æ’åˆ—

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def permuteUnique(self, nums: List[int]) -> List[List[int]]:
        # åˆ†è§£ï¼šä»¥æ¯ä¸ªä¸ç›¸åŒçš„å…ƒç´ åšå¼€å¤´ï¼Œ+ å…¶ä½™å…ƒç´ çš„å…¨æ’åˆ—
        if len(nums) == 1:
            return [nums]
        else:
            output = []
            unique_item = list(set(nums))
            for item in unique_item:
                # æ„é€ å…¶ä½™å…ƒç´ æ„æˆçš„åˆ—è¡¨
                i = nums.index(item)
                if i != len(nums) - 1:
                    others = nums[0:i] + nums[i+1:]
                else:
                    others = nums[0:i]
                # å…¨æ’åˆ—
                tmp_res = self.permuteUnique(others)
                output += [[item] + res for res in tmp_res]
            return output
                
```

## 19. æ—‹è½¬å›¾åƒ

> ç»™å®šä¸€ä¸ª` n Ã— n `çš„äºŒç»´çŸ©é˜µ` matrix `è¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚è¯·ä½ å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚
>
> ä½ å¿…é¡»åœ¨ **åŸåœ°** æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚**è¯·ä¸è¦** ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> <div align="center">
> <img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/20220512221234.png" width="50%" />
> </div>
>
> ```
> è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
> è¾“å‡ºï¼š[[7,4,1],[8,5,2],[9,6,3]]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> <div align="center">
> <img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/image-20220512221337369.png" width="50%" />
> </div>
>
> ```
> è¾“å…¥ï¼šmatrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]
> è¾“å‡ºï¼š[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]
> ```
>
> **æç¤º**ï¼š
>
> - `n == matrix.length == matrix[i].length`
> - `1 <= n <= 20`
> - `-1000 <= matrix[i][j] <= 1000`

**è§£é¢˜æ€è·¯**ï¼šè§‚å¯Ÿè§„å¾‹ï¼šæ–°çŸ©é˜µçš„ç¬¬`i`è¡Œæ˜¯æ—§çŸ©é˜µçš„ç¬¬`i`åˆ—çš„å€’åºï¼Œå³`new[i][j] = ori[n-j-1][i]`

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def rotate(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        n = len(matrix)
        # æš‚å­˜
        ori = []
        for i in range(n):
            ori.append([])
            for j in range(n):
                ori[i].append(matrix[i][j])
        # æ–°çŸ©é˜µçš„ç¬¬iè¡Œæ˜¯æ—§çŸ©é˜µçš„ç¬¬iåˆ—çš„å€’åº
        # new[i][j] = ori[n-j-1][i]
        for i in range(n):
            for j in range(n):
                matrix[i][j] = ori[n-j-1][i]
```

## 20. Pow(x, n)

> å®ç°` pow(x, n) `ï¼Œå³è®¡ç®—` x `çš„` n `æ¬¡å¹‚å‡½æ•°ï¼ˆå³ï¼Œ`x^n `ï¼‰ã€‚
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šx = 2.00000, n = 10
> è¾“å‡ºï¼š1024.00000
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šx = 2.10000, n = 3
> è¾“å‡ºï¼š9.26100
> ```
>
> ç¤ºä¾‹ 3ï¼š
>
> ```
> è¾“å…¥ï¼šx = 2.00000, n = -2
> è¾“å‡ºï¼š0.25000
> è§£é‡Šï¼š2-2 = 1/22 = 1/4 = 0.25
> ```
>
> **æç¤º**ï¼š
>
> - `-100.0 < x < 100.0`
> - `-2^31 <= n <= 2^31-1`
> - `-10^4 <= x^n <= 10^4`

**è§£é¢˜æ€è·¯**ï¼šå…ˆå€å¢ï¼Œåè°ƒæ•´

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def myPow(self, x: float, n: int) -> float:
        if n == 0:
            return 1
        elif n < 0:
            x = 1 / x
            n = - n
        # å€å¢
        cnt = 1
        res = x
        while cnt < n:
            res *= res
            cnt *= 2
        # è°ƒæ•´
        if cnt == n:
            return res
        else: 
            while cnt > n:
                res = res / x
                cnt -= 1
            return res
```

## 21. å­—æ¯å¼‚ä½è¯åˆ†ç»„

> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°† **å­—æ¯å¼‚ä½è¯** ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚
>
> **å­—æ¯å¼‚ä½è¯** æ˜¯ç”±é‡æ–°æ’åˆ—æºå•è¯çš„å­—æ¯å¾—åˆ°çš„ä¸€ä¸ªæ–°å•è¯ï¼Œæ‰€æœ‰æºå•è¯ä¸­çš„å­—æ¯é€šå¸¸æ°å¥½åªç”¨ä¸€æ¬¡ã€‚
>
>  
>
> **ç¤ºä¾‹ 1**:
>
> ```
> è¾“å…¥: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]
> è¾“å‡º: [["bat"],["nat","tan"],["ate","eat","tea"]]
> ```
>
> **ç¤ºä¾‹ 2**:
>
> ```
> è¾“å…¥: strs = [""]
> è¾“å‡º: [[""]]
> ```
>
> **ç¤ºä¾‹ 3**:
>
> ```
> è¾“å…¥: strs = ["a"]
> è¾“å‡º: [["a"]]
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= strs.length <= 10^4`
> - `0 <= strs[i].length <= 100`
> - `strs[i] `ä»…åŒ…å«å°å†™å­—æ¯

**è§£é¢˜æ€è·¯**ï¼šç®€å•ï¼Œä½†æ³¨æ„æç¤ºä¸­çš„`strs.length`å¾ˆå¤§ï¼Œå› æ­¤åªèƒ½å¾ªç¯ä¸€æ¬¡ã€‚

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def groupAnagrams(self, strs: List[str]) -> List[List[str]]:
        if len(strs) == 1:
            return [strs]
        output = {}
        for word in strs:
            key = list(word)
            key.sort()
            key = ''.join(key)
            if output.get(key) is None:
                output[key] = []
            output[key].append(word)
        return list(output.values())
```

## 22. å­—ç¬¦ä¸²ç›¸ä¹˜

> ç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•°` num1 `å’Œ` num2`ï¼Œè¿”å›` num1 `å’Œ` num2 `çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚
>
> **æ³¨æ„**ï¼šä¸èƒ½ä½¿ç”¨ä»»ä½•å†…ç½®çš„` BigInteger `åº“æˆ–ç›´æ¥å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°ã€‚
>
> **ç¤ºä¾‹ 1**:
>
> ```
> è¾“å…¥: num1 = "2", num2 = "3"
> è¾“å‡º: "6"
> ```
>
> **ç¤ºä¾‹ 2**:
>
> ```
> è¾“å…¥: num1 = "123", num2 = "456"
> è¾“å‡º: "56088"
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= num1.length, num2.length <= 200`
> - `num1 `å’Œ` num2 `åªèƒ½ç”±æ•°å­—ç»„æˆã€‚
> - `num1 `å’Œ `num2 `éƒ½ä¸åŒ…å«ä»»ä½•å‰å¯¼é›¶ï¼Œé™¤äº†æ•°å­—`0`æœ¬èº«ã€‚

**è§£é¢˜æ€è·¯**ï¼šçº¯ç»ƒæ‰‹é¢˜ï¼Œæ²¡ä»€ä¹ˆæ„ä¹‰

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def multiply(self, num1: str, num2: str) -> str:
        if num1 == '0' or num2 == '0':
            return '0'
        def num2str(num):
            output = ''
            while num != 0:
                tmp = num % 10
                output = str(tmp) + output
                num = num // 10
            return output
        def str2num(strs):
            output = 0
            for num in strs:
                output = output * 10 + int(num)
            return output
        return num2str(str2num(num1) * str2num(num2))
```

## 23. ç»„åˆæ€»å’Œ <a id="comb_sum">ğŸ“Œ</a>

> ç»™ä½ ä¸€ä¸ª **æ— é‡å¤å…ƒç´ ** çš„æ•´æ•°æ•°ç»„` candidates `å’Œä¸€ä¸ªç›®æ ‡æ•´æ•°` target `ï¼Œæ‰¾å‡º` candidates `ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•°` target `çš„ **æ‰€æœ‰** ä¸åŒç»„åˆ ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›è¿™äº›ç»„åˆã€‚
>
> `candidates `ä¸­çš„ åŒä¸€ä¸ª æ•°å­—å¯ä»¥ **æ— é™åˆ¶é‡å¤è¢«é€‰å–** ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ•°å­—çš„è¢«é€‰æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚ 
>
> å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º` target `çš„ä¸åŒç»„åˆæ•°å°‘äº 150 ä¸ªã€‚
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7
> è¾“å‡ºï¼š[[2,2,3],[7]]
> è§£é‡Šï¼š
> 2 å’Œ 3 å¯ä»¥å½¢æˆä¸€ç»„å€™é€‰ï¼Œ2 + 2 + 3 = 7 ã€‚æ³¨æ„ 2 å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚
> 7 ä¹Ÿæ˜¯ä¸€ä¸ªå€™é€‰ï¼Œ 7 = 7 ã€‚
> ä»…æœ‰è¿™ä¸¤ç§ç»„åˆã€‚
> ```
>
> ç¤ºä¾‹ 2ï¼š
>
> ```
> è¾“å…¥: candidates = [2,3,5], target = 8
> è¾“å‡º: [[2,2,2,2],[2,3,3],[3,5]]
> ```
>
> ç¤ºä¾‹ 3ï¼š
>
> ```
> è¾“å…¥: candidates = [2], target = 1
> è¾“å‡º: []
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= candidates.length <= 30`
> - `1 <= candidates[i] <= 200`
> - `candidate `ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ **äº’ä¸ç›¸åŒ**
> - `1 <= target <= 500`

è§£é¢˜æ€è·¯ï¼šå¯ä»¥ç”¨å›æº¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<u>é—®é¢˜åˆ†è§£</u>ï¼šæ¯æ¬¡é€‰å–åˆ—è¡¨ä¸­çš„ä¸€ä¸ªä¸ä¸€æ ·çš„æ•°å­—numï¼Œä½œä¸ºåŸºç¡€æ•°å­—ï¼Œé—®é¢˜åˆ†è§£ä¸ºå¯»æ‰¾` target - num`åœ¨`candidates`ä¸­çš„ç»„åˆã€‚

âš ï¸ï¼šå›æº¯çš„æ—¶å€™å¯ä»¥é€‰æ‹©å…¨éƒ¨éå†ï¼Œåœ¨å¤±è´¥çš„æ—¶å€™éœ€è¦åŠæ—¶**pop**å‡ºè·¯å¾„ä¸­çš„æœ«å°¾ç»“æœã€‚

âš ï¸ï¼š**è¿™é¢˜åº”è¯¥åœ¨å›æº¯çš„æ—¶å€™åº”è¯¥ä¼šæœ‰å‰ªæçš„æ–¹æ³•ï¼Œæ³¨æ„çœ‹çœ‹é¢˜è§£**

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def __init__(self):
        self.output = []
        
    def combinationSum(self, candidates: List[int], target: int) -> List[List[int]]:
        # é—®é¢˜åˆ†è§£ï¼šæ¯æ¬¡é€‰å–åˆ—è¡¨ä¸­çš„ä¸€ä¸ªä¸ä¸€æ ·çš„æ•°å­—numï¼Œä½œä¸ºåŸºç¡€æ•°å­—
        # combinationSum(candidates, target - num)
        # åœæ­¢æ¡ä»¶ï¼štarget <= 0
        def flashBack(can, tar, path=[]):
            if tar == 0:
                return True
            elif tar < 0:
                # å¤±è´¥è¿­ä»£
                path.pop()
                return False
            else:
                i = 0 # æŒ‡é’ˆæŒ‡å‘æœ¬æ¬¡ä½¿ç”¨çš„æ•°å­—
                while i < len(can):
                    # å°†å½“å‰çš„æ•°å­—æ·»åŠ åˆ°è·¯å¾„ä¸­
                    path.append(can[i])
                    res = flashBack(can, tar - can[i], path)
                    if res is True:
                        copy = [itm for itm in path]
                        copy.sort()
                        if copy not in self.output:
                            self.output.append(copy)
                        path.pop()
                    i += 1
                if len(path) > 0:
                    path.pop()
        flashBack(candidates, target)
        return self.output
```

## 24. ç»„åˆæ€»å’ŒII <a id="comb_sum2">ğŸ“Œ</a>

> ç»™å®šä¸€ä¸ªå€™é€‰äººç¼–å·çš„é›†åˆ` candidates `å’Œä¸€ä¸ªç›®æ ‡æ•°` target `ï¼Œæ‰¾å‡º` candidates `ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º` target `çš„ç»„åˆã€‚
>
> `candidates `ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ ä¸€æ¬¡ ã€‚
>
> **æ³¨æ„**ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 
>
>  
>
> **ç¤ºä¾‹ 1**:
>
> ```
> è¾“å…¥: candidates = [10,1,2,7,6,1,5], target = 8,
> è¾“å‡º:
> [
> [1,1,6],
> [1,2,5],
> [1,7],
> [2,6]
> ]
> ```
>
> **ç¤ºä¾‹ 2**:
>
> ```
> è¾“å…¥: candidates = [2,5,2,1,2], target = 5,
> è¾“å‡º:
> [
> [1,2,2],
> [5]
> ]
> ```
>
> **æç¤º**:
>
> - `1 <= candidates.length <= 100`
> - `1 <= candidates[i] <= 50`
> - `1 <= target <= 30`

**è§£é¢˜æ€è·¯**ï¼šåŸé—®é¢˜å¯ä»¥åšå¦‚ä¸‹çš„åˆ†è§£

1. ä»¥`candidates`ä¸­çš„æ¯ä¸ªä¸åŒçš„æ•°`num`ä½œä¸ºè·¯å¾„çš„å¼€å¤´ï¼Œ

2. å¯»æ‰¾å’Œ`target - num`åœ¨`candidates - nums`ä¸­çš„ç»„åˆï¼ŒæŸ¥æ‰¾å®Œæ¯•åï¼Œå°†`num`å†æ¬¡æ”¾è¿›`candidates`

3. åœæ­¢æ¡ä»¶ï¼š(1) `target == 0`: è¿­ä»£æˆåŠŸï¼›(2) `target < 0`: è¿­ä»£å¤±è´¥ï¼›(3) `target > 0 and len(can) == 0`: è¿­ä»£å¤±è´¥ã€‚

âš ï¸ï¼š**åœ¨æˆåŠŸåï¼Œåº”è¯¥ä¼šæœ‰å‰ªææ“ä½œï¼Œæ³¨æ„çœ‹é¢˜è§£**

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def combinationSum2(self, candidates: List[int], target: int) -> List[List[int]]:
        # é—®é¢˜åˆ†è§£ï¼š
        # 1. candidatesä¸­çš„æ¯ä¸ªä¸åŒçš„æ•°numä½œä¸ºè·¯å¾„çš„å¼€å¤´ï¼Œ
        # 2. å¯»æ‰¾å’Œtarget - numåœ¨candidates - numsä¸­çš„ç»„åˆ
        # 3. åœæ­¢æ¡ä»¶ï¼š
        #   (1) target == 0: è¿­ä»£æˆåŠŸï¼›
        #   (2) target < 0: è¿­ä»£å¤±è´¥ï¼›
        #   (3) target > 0 and len(can) == 0: è¿­ä»£å¤±è´¥ã€‚
        
        # æ’åºä»¥å¯»æ‰¾ä¸ç›¸åŒçš„æ•°å­—
        candidates.sort()
        output = []
        def backtrack(can, tar, path=[]):
            if tar == 0:
                return True
            elif tar < 0:
                path.pop()
                return False
            elif tar > 0 and len(can) == 0:
                path.pop()
                return False
            else:
                i = 0
                while i < len(can):
                    # pop can[i] from can
                    tmp = can.pop(i)
                    path.append(tmp)
                    res = backtrack(can, tar - tmp, path)
                    if res is True:
                        copy = [item for item in path]
                        copy.sort()
                        path.pop()
                        if copy not in output:
                            output.append(copy)
                    # i ä½ç½®çš„æ•°å­—æ”¾å›canä¸­
                    can.insert(i, tmp)
                    # æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä¸ç›¸åŒçš„æ•°å­—ä¸Š
                    while i+1 < len(can) and can[i+1] == can[i]:
                        i += 1
                    i += 1
                if len(path) > 0:
                    path.pop()
        backtrack(candidates, target)
        return output
```



## 25. å¤–è§‚æ•°åˆ—

> ç»™å®šä¸€ä¸ªæ­£æ•´æ•°` n `ï¼Œè¾“å‡ºå¤–è§‚æ•°åˆ—çš„ç¬¬` n `é¡¹ã€‚
>
> ã€Œå¤–è§‚æ•°åˆ—ã€æ˜¯ä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œä»æ•°å­—` 1 `å¼€å§‹ï¼Œåºåˆ—ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯å¯¹å‰ä¸€é¡¹çš„æè¿°ã€‚
>
> ä½ å¯ä»¥å°†å…¶è§†ä½œæ˜¯ç”±é€’å½’å…¬å¼å®šä¹‰çš„æ•°å­—å­—ç¬¦ä¸²åºåˆ—ï¼š
>
> `countAndSay(1) = "1"`
> `countAndSay(n) `æ˜¯å¯¹` countAndSay(n-1) `çš„æè¿°ï¼Œç„¶åè½¬æ¢æˆå¦ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ã€‚
> å‰äº”é¡¹å¦‚ä¸‹ï¼š
>
> ```
> 1.     1
> 2.     11
> 3.     21
> 4.     1211
> 5.     111221
>        ç¬¬ä¸€é¡¹æ˜¯æ•°å­— 1 
>        æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 1 å³ â€œ ä¸€ ä¸ª 1 â€ï¼Œè®°ä½œ "11"
>        æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 11 å³ â€œ äºŒ ä¸ª 1 â€ ï¼Œè®°ä½œ "21"
>        æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 21 å³ â€œ ä¸€ ä¸ª 2 + ä¸€ ä¸ª 1 â€ ï¼Œè®°ä½œ "1211"
>        æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 1211 å³ â€œ ä¸€ ä¸ª 1 + ä¸€ ä¸ª 2 + äºŒ ä¸ª 1 â€ ï¼Œè®°ä½œ "111221"
>        
> ```
>
> è¦ **æè¿°** ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ï¼Œé¦–å…ˆè¦å°†å­—ç¬¦ä¸²åˆ†å‰²ä¸º æœ€å° æ•°é‡çš„ç»„ï¼Œæ¯ä¸ªç»„éƒ½ç”±è¿ç»­çš„**æœ€å¤š** ç›¸åŒå­—ç¬¦ ç»„æˆã€‚ç„¶åå¯¹äºæ¯ä¸ªç»„ï¼Œå…ˆæè¿°å­—ç¬¦çš„æ•°é‡ï¼Œç„¶åæè¿°å­—ç¬¦ï¼Œå½¢æˆä¸€ä¸ªæè¿°ç»„ã€‚è¦å°†æè¿°è½¬æ¢ä¸ºæ•°å­—å­—ç¬¦ä¸²ï¼Œå…ˆå°†æ¯ç»„ä¸­çš„å­—ç¬¦æ•°é‡ç”¨æ•°å­—æ›¿æ¢ï¼Œå†å°†æ‰€æœ‰æè¿°ç»„è¿æ¥èµ·æ¥ã€‚
>
> ä¾‹å¦‚ï¼Œæ•°å­—å­—ç¬¦ä¸²` "3322251"` çš„æè¿°å¦‚ä¸‹å›¾ï¼š
>
> <div align="center">
> <img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/image-20220513115313797.png" alt="image-20220513115313797" width="45%" />
> </div>
>
> **ç¤ºä¾‹ 1**ï¼š
>
> ```
> è¾“å…¥ï¼šn = 1
> è¾“å‡ºï¼š"1"
> è§£é‡Šï¼šè¿™æ˜¯ä¸€ä¸ªåŸºæœ¬æ ·ä¾‹ã€‚
> ```
>
> **ç¤ºä¾‹ 2**ï¼š
>
> ```
> è¾“å…¥ï¼šn = 4
> è¾“å‡ºï¼š"1211"
> è§£é‡Šï¼š
> countAndSay(1) = "1"
> countAndSay(2) = è¯» "1" = ä¸€ ä¸ª 1 = "11"
> countAndSay(3) = è¯» "11" = äºŒ ä¸ª 1 = "21"
> countAndSay(4) = è¯» "21" = ä¸€ ä¸ª 2 + ä¸€ ä¸ª 1 = "12" + "11" = "1211"
> ```
>
> **æç¤º**ï¼š
>
> - `1 <= n <= 30`

**è§£é¢˜æ€è·¯**ï¼šå¾ˆæ˜æ˜¾ç”¨é€’å½’å³å¯ï¼Œåªæ˜¯æ³¨æ„è¾¹ç•Œçš„å¤„ç†

**åŸacceptç­”æ¡ˆ**ï¼š

```python
class Solution:
    def countAndSay(self, n: int) -> str:
        if n == 1:
            return '1'
        else:
            prev = self.countAndSay(n - 1) # è¦æè¿°çš„å­—ç¬¦ä¸²
            count_list = [] # list in it, [n, m], nå‡ºç°è¿‡mæ¬¡
            i = 0
            tmp = [prev[i], 1]
            while i < len(prev):
                if i+1 < len(prev) and prev[i+1] == prev[i]:
                    tmp[1] += 1
                    i += 1
                else:
                    if i+1 < len(prev):
                        count_list.append(tmp)
                        tmp = [prev[i+1], 1]
                        i += 1
                    else:
                        break
            count_list.append(tmp)
            output = [f'{item[1]}{item[0]}' for item in count_list]
            return ''.join(output)
```

## 31. ä¸‹ä¸€ä¸ªæ’åˆ— <a id="next_comb">ğŸ“Œ</a>

> æ•´æ•°æ•°ç»„çš„ä¸€ä¸ª **æ’åˆ—** å°±æ˜¯å°†å…¶æ‰€æœ‰æˆå‘˜ä»¥åºåˆ—æˆ–çº¿æ€§é¡ºåºæ’åˆ—ã€‚
>
> - ä¾‹å¦‚ï¼Œ`arr = [1,2,3]` ï¼Œä»¥ä¸‹è¿™äº›éƒ½å¯ä»¥è§†ä½œ `arr` çš„æ’åˆ—ï¼š`[1,2,3]`ã€`[1,3,2]`ã€`[3,1,2]`ã€`[2,3,1]` ã€‚
>
> æ•´æ•°æ•°ç»„çš„ **ä¸‹ä¸€ä¸ªæ’åˆ—** æ˜¯æŒ‡å…¶æ•´æ•°çš„ä¸‹ä¸€ä¸ªå­—å…¸åºæ›´å¤§çš„æ’åˆ—ã€‚æ›´æ­£å¼åœ°ï¼Œå¦‚æœæ•°ç»„çš„æ‰€æœ‰æ’åˆ—æ ¹æ®å…¶å­—å…¸é¡ºåºä»å°åˆ°å¤§æ’åˆ—åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæ•°ç»„çš„ **ä¸‹ä¸€ä¸ªæ’åˆ—** å°±æ˜¯åœ¨è¿™ä¸ªæœ‰åºå®¹å™¨ä¸­æ’åœ¨å®ƒåé¢çš„é‚£ä¸ªæ’åˆ—ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å¿…é¡»é‡æ’ä¸ºå­—å…¸åºæœ€å°çš„æ’åˆ—ï¼ˆå³ï¼Œå…¶å…ƒç´ æŒ‰å‡åºæ’åˆ—ï¼‰ã€‚
>
> - ä¾‹å¦‚ï¼Œ`arr = [1,2,3]` çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ `[1,3,2]` ã€‚
> - ç±»ä¼¼åœ°ï¼Œ`arr = [2,3,1]` çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ `[3,1,2]` ã€‚
> - è€Œ `arr = [3,2,1]` çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ `[1,2,3]` ï¼Œå› ä¸º `[3,2,1]` ä¸å­˜åœ¨ä¸€ä¸ªå­—å…¸åºæ›´å¤§çš„æ’åˆ—ã€‚
>
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾å‡º `nums` çš„ä¸‹ä¸€ä¸ªæ’åˆ—ã€‚
>
> å¿…é¡»**[ åŸåœ° ](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)**ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1,2,3]
> è¾“å‡ºï¼š[1,3,2]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [3,2,1]
> è¾“å‡ºï¼š[1,2,3]
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1,1,5]
> è¾“å‡ºï¼š[1,5,1]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= nums.length <= 100`
> - `0 <= nums[i] <= 100`

acceptç­”æ¡ˆï¼š

```python
class Solution:
    def nextPermutation(self, nums: List[int]) -> None:
        """
        Do not return anything, modify nums in-place instead.
        """
        '''
        æ€è·¯: å¯ä»¥å‚è€ƒä¸‹åˆ—çš„ä¾‹å­ï¼Œå¯ä»¥çœ‹å‡ºï¼Œæ‰¾ä¸‹ä¸€ä¸ªæ’åˆ—çš„å…³é”®ç‚¹åœ¨äº
        1. ç¡®å®šä¸€ä¸ªä½ç½®ï¼Œæˆ‘ä»¬åªæ”¹å˜è¿™ä¸ªä½ç½®ä»¥åŠä¹‹å³çš„å­—ç¬¦ä¸²ï¼Œä½¿å¾—æ’åˆ—æ›´å¤§
        2. ç¡®å®šä½ç½®ï¼šä»å³åˆ°å·¦ï¼Œå½“ä¸€ä¸ªæ•°å­— a[i] < a[i+1]çš„æ—¶å€™ï¼Œå…¶ä¸­è¾ƒå°çš„æ•°å­—a[i]å³ä¸ºåˆ†ç•Œçº¿(å› ä¸ºè‡³å°‘a[i+1]å’Œa[i]äº¤æ¢å°±å¯ä»¥ä½¿å¾—æ’åˆ—å˜å¤§)
        3. å¯»æ‰¾äº¤æ¢ç›®æ ‡ï¼šæ¯”a[i]æ›´å¤§çš„æ•°å­—åº”è¯¥æ›´é å³ï¼Œæ‰€ä»¥ä»æœ€å³æ‰‹è¾¹å¼€å§‹ï¼Œå¯»æ‰¾æ¯”a[i]å¤§çš„æ•°å­—a[j]
        4. äº¤æ¢a[i], a[j]ï¼Œäº¤æ¢åçš„æ•°ç»„ä¸€å®šå˜å¤§äº†
        5. ç¡®ä¿æ•°ç»„æ˜¯â€œä¸‹ä¸€ä¸ªæ’åˆ—â€ï¼Œä½¿å¾—äº¤æ¢åçš„è¾ƒå°æ•°å­—åçš„æ•°åˆ—å‘ˆå‡åºæ’åˆ—
        6. [trick] åœ¨åšç¬¬äº”æ­¥çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥å€’è½¬è¾ƒå°æ•°ä¹‹å³çš„æ•°å­—ï¼ˆå› ä¸ºå³è¾¹çš„æ•°ç»„ä¸€å®šæ˜¯ä¸€ä¸ªé™åºæ•°åˆ—ï¼Œè¢«æ¢ä½ç½®ä¹‹å³çš„æ•°å­—å°äºç­‰äºè¾ƒå°æ•°ï¼Œè¢«æ¢ä½ç½®ä¹‹å·¦çš„æ•°å­—å¤§äºç­‰äºè¾ƒå°æ•°ï¼‰
        '''
        # step 2
        small_idx, large_idx = None, None
        for i in range(len(nums)-2, -1, -1):
            if nums[i] < nums[i+1]:
                small_idx = i
                break
        # æ²¡æœ‰ä¸‹ä¸€ä¸ªæ’åˆ—
        if small_idx is None:
            for i in range(0, len(nums)//2):
                tmp = nums[i]
                nums[i] = nums[len(nums)-i-1]
                nums[len(nums)-i-1] = tmp
            return nums
        # step 3
        for i in range(len(nums)-1, small_idx, -1):
            if nums[i] > nums[small_idx]:
                large_idx = i
                break
        # step4 4: swap
        small, large = nums[small_idx], nums[large_idx]
        nums[small_idx] = large
        nums[large_idx] = small
        # step 5/6: reverse
        i = small_idx+1
        j = len(nums)-1
        while i < j:
            tmp = nums[i]
            nums[i] = nums[j]
            nums[j] = tmp
            i += 1; j -= 1
        return nums
```

## 33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ <a id="rotation_search">ğŸ“Œ</a>

> æ•´æ•°æ•°ç»„ `nums` æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ **äº’ä¸ç›¸åŒ** ã€‚
>
> åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ`nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ `k`ï¼ˆ`0 <= k < nums.length`ï¼‰ä¸Šè¿›è¡Œäº† **æ—‹è½¬**ï¼Œä½¿æ•°ç»„å˜ä¸º `[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]`ï¼ˆä¸‹æ ‡ **ä» 0 å¼€å§‹** è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ `[0,1,2,4,5,6,7]` åœ¨ä¸‹æ ‡ `3` å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º `[4,5,6,7,0,1,2]` ã€‚
>
> ç»™ä½  **æ—‹è½¬å** çš„æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target` ï¼Œå¦‚æœ `nums` ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ `target` ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› `-1` ã€‚
>
> ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 0
> è¾“å‡ºï¼š4
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 3
> è¾“å‡ºï¼š-1
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1], target = 0
> è¾“å‡ºï¼š-1
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= nums.length <= 5000`
> - `-104 <= nums[i] <= 104`
> - `nums` ä¸­çš„æ¯ä¸ªå€¼éƒ½ **ç‹¬ä¸€æ— äºŒ**
> - é¢˜ç›®æ•°æ®ä¿è¯ `nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ä¸Šè¿›è¡Œäº†æ—‹è½¬
> - `-104 <= target <= 104`

acceptç­”æ¡ˆï¼š

```python
class Solution:
    def search(self, nums: List[int], target: int) -> int:
        '''
        æœ¬é¢˜çš„éš¾ç‚¹åº”å½“åœ¨äºå¤æ‚åº¦çš„è§„å®šï¼Œå¦‚æœç›´æ¥æŸ¥æ‰¾ï¼Œå¤æ‚åº¦åº”å½“æ˜¯O(n)
        å¤æ‚åº¦O(log n)ä»£è¡¨ç®—æ³•çš„æŸ¥æ‰¾é•¿åº¦æ˜¯é€’å‡çš„ã€‚
        æ€è·¯ï¼š
        1. äºŒåˆ†æ³•æŸ¥æ‰¾ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µ
        - mid = target: ç›´æ¥è¾“å‡º
        - nums[left] < nums[mid]: å‰åŠæ®µæ˜¯æœ‰åºæ•°ç»„ï¼ŒååŠæ®µæ˜¯æ— åºæ•°ç»„
            - nums[left] <= target < nums[mid]: right = mid - 1
            - else: left = mid + 1
        - else: å‰åŠæ®µæ˜¯æ— åºæ•°ç»„ï¼ŒååŠæ®µæ˜¯æœ‰åºçš„
            - nums[mid] < target <= nums[right]: left = mid + 1
            - else: right = mid - 1
        '''
        if not nums:
            return -1
        l, r = 0, len(nums) - 1
        while l <= r:
            mid = (l + r) // 2
            if nums[mid] == target:
                return mid
            if nums[0] <= nums[mid]:
                # 0 - mid æ˜¯æœ‰åºæ•°ç»„
                if nums[0] <= target < nums[mid]:
                    # targetåœ¨å‰åŠæ®µ
                    r = mid - 1
                else:
                    # targetåœ¨ååŠæ®µ
                    l = mid + 1
            else:
                # 0 - midä¸­åŒ…å«æ—‹è½¬ç‚¹ï¼Œmid - lenæ˜¯æœ‰åºçš„
                if nums[mid] < target <= nums[len(nums) - 1]:
                    # targetåœ¨ååŠæ®µ
                    l = mid + 1
                else:
                    # targeåœ¨å‰åŠæ®µ
                    r = mid - 1
        return -1
```

## 1710. å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°

> è¯·ä½ å°†ä¸€äº›ç®±å­è£…åœ¨ **ä¸€è¾†å¡è½¦** ä¸Šã€‚ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„ `boxTypes` ï¼Œå…¶ä¸­ `boxTypes[i] = [numberOfBoxesi, numberOfUnitsPerBoxi]` ï¼š
>
> - `numberOfBoxesi` æ˜¯ç±»å‹ `i` çš„ç®±å­çš„æ•°é‡ã€‚
> - `numberOfUnitsPerBoxi` æ˜¯ç±»å‹ `i` æ¯ä¸ªç®±å­å¯ä»¥è£…è½½çš„å•å…ƒæ•°é‡ã€‚
>
> æ•´æ•° `truckSize` è¡¨ç¤ºå¡è½¦ä¸Šå¯ä»¥è£…è½½ **ç®±å­** çš„ **æœ€å¤§æ•°é‡** ã€‚åªè¦ç®±å­æ•°é‡ä¸è¶…è¿‡ `truckSize` ï¼Œä½ å°±å¯ä»¥é€‰æ‹©ä»»æ„ç®±å­è£…åˆ°å¡è½¦ä¸Šã€‚
>
> è¿”å›å¡è½¦å¯ä»¥è£…è½½ **å•å…ƒ** çš„ **æœ€å¤§** æ€»æ•°*ã€‚*
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šboxTypes = [[1,3],[2,2],[3,1]], truckSize = 4
> è¾“å‡ºï¼š8
> è§£é‡Šï¼šç®±å­çš„æƒ…å†µå¦‚ä¸‹ï¼š
> - 1 ä¸ªç¬¬ä¸€ç±»çš„ç®±å­ï¼Œé‡Œé¢å« 3 ä¸ªå•å…ƒã€‚
> - 2 ä¸ªç¬¬äºŒç±»çš„ç®±å­ï¼Œæ¯ä¸ªé‡Œé¢å« 2 ä¸ªå•å…ƒã€‚
> - 3 ä¸ªç¬¬ä¸‰ç±»çš„ç®±å­ï¼Œæ¯ä¸ªé‡Œé¢å« 1 ä¸ªå•å…ƒã€‚
> å¯ä»¥é€‰æ‹©ç¬¬ä¸€ç±»å’Œç¬¬äºŒç±»çš„æ‰€æœ‰ç®±å­ï¼Œä»¥åŠç¬¬ä¸‰ç±»çš„ä¸€ä¸ªç®±å­ã€‚
> å•å…ƒæ€»æ•° = (1 * 3) + (2 * 2) + (1 * 1) = 8
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šboxTypes = [[5,10],[2,5],[4,7],[3,9]], truckSize = 10
> è¾“å‡ºï¼š91
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= boxTypes.length <= 1000`
> - `1 <= numberOfBoxesi, numberOfUnitsPerBoxi <= 1000`
> - `1 <= truckSize <= 106`

acceptç­”æ¡ˆï¼š

```python
class Solution:
    def maximumUnits(self, boxTypes: List[List[int]], truckSize: int) -> int:
        '''
        æ€è·¯ï¼šä»æœ€å¤§å®¹é‡çš„ç®±å­å…¥æ‰‹ï¼Œå®¹é‡ä»å¤§åˆ°å°æ”¾å³å¯
        '''
        d = {} # key: å®¹é‡, value: number of box
        for idx in range(len(boxTypes)):
            item = boxTypes[idx]
            if d.get(item[1]) is None:
                d[item[1]] = 0
            d[item[1]] += item[0]
        keys = list(d.keys())
        keys.sort()
        keys = keys[::-1]

        re, i = 0, 0  
        summ = 0 # ä¸€å…±æ”¾äº†å¤šå°‘äº†
        while summ <= truckSize and i < len(keys):
            # æ”¾å…¥æ‰€æœ‰ç¬¬iç§ç®±å­
            summ += d[keys[i]]
            re += keys[i] * d[keys[i]] # ç›®å‰çš„æ€»æ•°
            i += 1
        # breakå‡ºæ¥çš„æ—¶å€™ç¬¬i-1ç§å°±æ”¾ä¸ä¸‹äº†ï¼Œé€€å›æ‰€æœ‰i-1å®¹é‡çš„ç®±å­
        summ -= d[keys[i-1]]
        re -= keys[i-1] * d[keys[i-1]]
        if d[keys[i-1]] > truckSize - summ: # i-1ç±»å‹çš„å°äºå¯ç”¨å®¹é‡
            re += keys[i-1] * (truckSize - summ)
        else: # æ²¡æœ‰å¯ç”¨çš„ç®±å­äº†
            re += keys[i-1] * d[keys[i-1]]
        return re
```

## 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® <a id="search_first_and_last">ğŸ“Œ</a>

> ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ `nums`ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚
>
> å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ `target`ï¼Œè¿”å› `[-1, -1]`ã€‚
>
> ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 8
> è¾“å‡ºï¼š[3,4]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 6
> è¾“å‡ºï¼š[-1,-1]
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [], target = 0
> è¾“å‡ºï¼š[-1,-1]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `0 <= nums.length <= 105`
> - `-109 <= nums[i] <= 109`
> - `nums` æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„
> - `-109 <= target <= 109`

```python
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        '''
        O(log n): äºŒåˆ†æ³•
        æ€è·¯ï¼šå…ˆæ‰¾åˆ°ä¸€ä¸ªtargetçš„ä½ç½®ï¼Œç„¶åå‘ä¸¤è¾¹å»¶å±•
        '''
        if len(nums) == 0: return [-1, -1]
        left, right = 0, len(nums)-1
        mid = (left + right) // 2
        while left <= right and right < len(nums) and left >= 0:
            mid = (left + right) // 2
            if nums[mid] == target:
                break
            elif nums[left] <= target < nums[mid]:
                right = mid - 1
            elif nums[mid] < target <= nums[right]: 
                left = mid + 1
            else:
                return [-1, -1]
        # target åœ¨midä½ç½®
        l_t, r_t, left, right = mid, mid, mid, mid
        while 0 <= l_t-1 <= mid:
            l_t -= 1
            if nums[l_t] == target:
                left = l_t
        while len(nums)> r_t+1 >= mid:
            r_t += 1
            if nums[r_t] == target:
                right = r_t
        return [left, right]
```

## 775.å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½® <a name="two_reverse">ğŸ“Œ</a>

> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œè¡¨ç¤ºç”±èŒƒå›´ `[0, n - 1]` å†…æ‰€æœ‰æ•´æ•°ç»„æˆçš„ä¸€ä¸ªæ’åˆ—ã€‚
>
> **å…¨å±€å€’ç½®** çš„æ•°ç›®ç­‰äºæ»¡è¶³ä¸‹è¿°æ¡ä»¶ä¸åŒä¸‹æ ‡å¯¹ `(i, j)` çš„æ•°ç›®ï¼š
>
> - `0 <= i < j < n`
> - `nums[i] > nums[j]`
>
> **å±€éƒ¨å€’ç½®** çš„æ•°ç›®ç­‰äºæ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„ä¸‹æ ‡ `i` çš„æ•°ç›®ï¼š
>
> - `0 <= i < n - 1`
> - `nums[i] > nums[i + 1]`
>
> å½“æ•°ç»„ `nums` ä¸­ **å…¨å±€å€’ç½®** çš„æ•°é‡ç­‰äº **å±€éƒ¨å€’ç½®** çš„æ•°é‡æ—¶ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1,0,2]
> è¾“å‡ºï¼štrue
> è§£é‡Šï¼šæœ‰ 1 ä¸ªå…¨å±€å€’ç½®ï¼Œå’Œ 1 ä¸ªå±€éƒ¨å€’ç½®ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1,2,0]
> è¾“å‡ºï¼šfalse
> è§£é‡Šï¼šæœ‰ 2 ä¸ªå…¨å±€å€’ç½®ï¼Œå’Œ 1 ä¸ªå±€éƒ¨å€’ç½®ã€‚
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `n == nums.length`
> - `1 <= n <= 10^5`
> - `0 <= nums[i] < n`
> - `nums` ä¸­çš„æ‰€æœ‰æ•´æ•° **äº’ä¸ç›¸åŒ**
> - `nums` æ˜¯èŒƒå›´ `[0, n - 1]` å†…æ‰€æœ‰æ•°å­—ç»„æˆçš„ä¸€ä¸ªæ’åˆ—

æ³¨æ„ï¼Œæš´åŠ›è§£å†³è¯¥é—®é¢˜ä¼štime out

æš´åŠ›è§£å†³ï¼šæ ‘çŠ¶æ•°ç»„

```python
class Solution:
    def isIdealPermutation(self, nums: List[int]) -> bool:
        '''
        æ€è·¯ï¼š
        - å…¨å±€å€’ç½®ï¼šå¯¹ä»»æ„ä¸¤ä¸ªä¸‹æ ‡i<jæ»¡è¶³nums[i]>nums[j]
        - å±€éƒ¨å€’ç½®ï¼šå¯¹äºä¸¤ä¸ªç›¸é‚»çš„ä¸‹æ ‡i i+1ï¼Œæ»¡è¶³nums[i]>nums[i+1]
        å…¶å®å±€éƒ¨å€’ç½®å°±æ˜¯ä¸€ç§ç‰¹æ®Šçš„å…¨å±€å€’ç½®ï¼Œå…¶ä¸­j = i + 1
        å› æ­¤å½“å…¨å±€å€’ç½®çš„æ•°é‡ç­‰äºå±€éƒ¨å€’ç½®çš„æ•°é‡æ—¶ï¼Œæœ‰
        - å¯¹äºä»»æ„ä¸€ä¸ªiï¼Œè‹¥ä»–æ»¡è¶³å±€éƒ¨å€’ç½®ï¼Œåˆ™ä¸æ»¡è¶³å…¨å±€å€’ç½®
        - æœ‰ä¸€ä¸ªå‰æï¼Œå¯¹äºä¸‹æ ‡iï¼Œä»–çš„å…¨å±€å’Œå±€éƒ¨å€’ç½®å¯¹åªèƒ½å­˜åœ¨äºiä¹‹å‰çš„æ•°ç»„ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦éå†iä½ç½®ä¹‹å‰çš„æ‰€æœ‰ä½ç½®æ¥åšä¸Šè¿°åˆ¤æ–­
        - æˆ–è€…ï¼Œå¯¹ä¸‹æ ‡iï¼Œéå†æ‰€æœ‰ä¹‹åçš„ä½ç½®æ¥åšåˆ¤æ–­
        ã€é”™è¯¯çš„æ–¹æ³•ï¼Œåªæ£€æŸ¥æ»¡è¶³å½“nums[i]>nums[i+1]ï¼Œnums[i+1]ä¹‹åæ˜¯å¦è¿˜æœ‰æ¯”nums[i]å°çš„ã€‘
        ã€è¿™ä½¿å¾—æœ‰ä¸€äº›å…¨å±€å€’ç½®è¢«æ¼æ£€ï¼Œå€’ç½®å‡ºé”™ã€‘
        '''
        lo, go = 0, 0
        for i in range(len(nums)-1):
            lo, go = 0, 0
            if nums[i] > nums[i+1]:
                lo += 1
                go += 1
            # ç†æƒ³ï¼ši+2åŠå…¶ä¹‹åéƒ½å¤§äºnums[i]ï¼Œå³
            if i+2 < len(nums):
                if nums[i] < min(nums[i+2:]):
                    pass
                else:
                    return False
            
        if lo == go:
            return True
        else:
            return False
```

æ•°å­¦è§£æ³•

```python
class Solution:
    def isIdealPermutation(self, nums: List[int]) -> bool:
        '''
        æ•°å­¦è§£æ³•ï¼š
        æ»¡è¶³é¢˜ç›®è¦æ±‚çš„é€†åºå¯¹ï¼Œéœ€è¦æ»¡è¶³nums[i]>nums[i+1]ï¼Œä¸”å¯¹äºä»»æ„j>i+1éƒ½æœ‰nums[i]<nums[j]
        ç»“åˆé¢˜ç›®â€œnumsä¸­æ˜¯ä»0:n-1çš„æ‰€æœ‰æ•°å­—çš„æ’åˆ—â€ï¼Œå› æ­¤
        ã€ä»æ•°æ®ç”Ÿæˆçš„è§’åº¦ä¸Šã€‘
        ã€æ»¡è¶³è¦æ±‚çš„æ•°ç»„ï¼Œå¿…é¡»æ˜¯ä»æ­£åºæ’åˆ—çš„æ•°ç»„[0, 1, ..., n-1]ä¸­è°ƒæ¢ä»»æ„ç›¸é‚»ä¸¤ä¸ªä½ç½®çš„å…ƒç´ æ‰€æˆçš„ã€‘
        ä»æ•°æ®ç”Ÿæˆçš„è§’åº¦ä¸Šï¼šæ£€æŸ¥æ•°å­—ç°åœ¨çš„ä½ç½®å’Œè°ƒæ¢åçš„ä½ç½®ä¹‹é—´çš„å·®
        '''
        for i in range(len(nums)):
            if abs(nums[i] - i) > 1:
                return False
        return True

```

## 56. åˆå¹¶åŒºé—´<a name="combine_intervals">ğŸ“Œ</a>

> ä»¥æ•°ç»„ `intervals` è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º `intervals[i] = [starti, endi]` ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼Œå¹¶è¿”å› *ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´* ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šintervals = [[1,3],[2,6],[8,10],[15,18]]
> è¾“å‡ºï¼š[[1,6],[8,10],[15,18]]
> è§£é‡Šï¼šåŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šintervals = [[1,4],[4,5]]
> è¾“å‡ºï¼š[[1,5]]
> è§£é‡Šï¼šåŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= intervals.length <= 10^4`
> - `intervals[i].length == 2`
> - `0 <= starti <= endi <= 10^4`

acceptä»£ç ï¼š

```python
class Solution:
    def merge(self, intervals: List[List[int]]) -> List[List[int]]:
        '''
        æ€è·¯ï¼šçœ‹çœ‹èƒ½ä¸èƒ½ç”¨O(n)çš„æ»‘åŠ¨çª—å£è§£å†³
        1. å¯¹æ‰€æœ‰intervalsä¸­çš„åŒºé—´æŒ‰startçš„å¤§å°é¡ºåºæ’åˆ—
        2. ç”¨æ»‘åŠ¨çš„åŒæŒ‡é’ˆéå†æ‰€æœ‰åŒºé—´
        '''
        starts = [s[0] for s in intervals]
        v2i_dict = {} # key: start, value: list of index
        for i in range(len(starts)):
            if v2i_dict.get(starts[i]) is None:
                v2i_dict[starts[i]] = []
            v2i_dict[starts[i]].append(i)
        all_start = list(v2i_dict.keys())
        all_start.sort()
        # åˆå¹¶æ‰€æœ‰ä»åŒä¸€startå¼€å§‹çš„åŒºé—´
        result = [] # æŒ‰ç…§startçš„å¤§å°é¡ºåºæ’åˆ—çš„intervalsï¼Œstartå‡ä¸ç›¸åŒ
        for start in all_start:
            # æ‰€æœ‰ä»startå¼€å§‹çš„åŒºé—´ï¼Œå…¶å¯¹åº”çš„ç´¢å¼•ä¸ºv2i_dict[start]
            ends = [intervals[idx][1] for idx in v2i_dict[start]]
            end = max(ends)
            result.append([start, end])
        # åŒæŒ‡é’ˆéå†result
        re = [result[0]]
        for idx in range(1, len(result)):
            if result[idx][0] > re[-1][1]: 
                # å¦‚æœä¸‹ä¸ªåŒºé—´çš„å¼€å§‹ä¸ä¸Šä¸ªåŒºé—´çš„ç»“æŸä¸ç›¸é‚»ï¼Œæ³¨å†Œæ–°çš„åŒºé—´
                re.append(result[idx])
            else:
                # è‹¥ä¸‹ä¸ªåŒºé—´çš„å¼€å§‹åœ¨ä¸Šä¸€ä¸ªåŒºé—´ç»“æŸçš„ä¹‹åä¸€ä½ï¼Œæˆ–è€…å¹²è„†ç­‰äºæˆ–è€…å°äºä¸Šä¸€ä¸ªåŒºé—´çš„ç»“æŸï¼Œåˆ™ä¸¤ä¸ªåŒºé—´åˆå¹¶
                re[-1][1] = max([re[-1][1], result[idx][1]])
        return re
```

## 75. é¢œè‰²åˆ†ç±»

> ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€å…± `n` ä¸ªå…ƒç´ çš„æ•°ç»„ `nums` ï¼Œ**[åŸåœ°](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)**å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚
>
> æˆ‘ä»¬ä½¿ç”¨æ•´æ•° `0`ã€ `1` å’Œ `2` åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚
>
> 
>
> å¿…é¡»åœ¨ä¸ä½¿ç”¨åº“çš„sortå‡½æ•°çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [2,0,2,1,1,0]
> è¾“å‡ºï¼š[0,0,1,1,2,2]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [2,0,1]
> è¾“å‡ºï¼š[0,1,2]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `n == nums.length`
> - `1 <= n <= 300`
> - `nums[i]` ä¸º `0`ã€`1` æˆ– `2`

accept ç­”æ¡ˆ

```python
:class Solution:
    def sortColors(self, nums: List[int]) -> None:
        """
        Do not return anything, modify nums in-place instead.
        """
        '''
        æ€è·¯ï¼šæŒ‡é’ˆ
        å…ˆç»™ç¬¬ä¸€ä¸ªä½ç½®ä¸ºmin(nums)
        iä½ç½®çš„æ—¶å€™ï¼Œå¦‚æœmin(nums[i+1]) <= nums[i], äº¤æ¢äºŒè€…ï¼ŒæŒ‡é’ˆç§»åŠ¨
        '''
        for i in range(len(nums)-1):
            if min(nums[i+1:]) <= nums[i]:
                min_idx = nums[i+1:].index(min(nums[i+1:])) + 1 + i
                tmp = nums[i]
                nums[i] = nums[min_idx]
                nums[min_idx] = tmp
```

## 28. æœ€é•¿è¿ç»­åºåˆ— <a name="longest_con_array">ğŸ“Œ</a>

> ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦ã€‚
>
> è¯·ä½ è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [100,4,200,1,3,2]
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šæœ€é•¿æ•°å­—è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [0,3,7,2,5,8,4,6,0,1]
> è¾“å‡ºï¼š9
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `0 <= nums.length <= 105`
> - `-109 <= nums[i] <= 109`

è¾…åŠ©ä¸‹é¢çš„ä¾‹å­åšç†è§£ï¼šhttps://leetcode.cn/problems/longest-consecutive-sequence/solutions/3956/dong-tai-gui-hua-python-ti-jie-by-jalan/

<img src="https://raw.githubusercontent.com/KMdsy/figurebed/master/img/image-20221201100522811.png" alt="image-20221201100522811" style="zoom:50%;" />

acceptç­”æ¡ˆï¼š

```python
class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        '''
        æ€è·¯ï¼š
        è¿™ä¸ªé¢˜å¾ˆå·§æ€ï¼Œè¿™é‡Œå½’çº³ä¸€ä¸‹ï¼Œé¦–å…ˆæ˜¯é¢˜æ„ã€‚
        é¢˜æ„æ˜¯æƒ³éå†æ•´ä¸ªæ•°ç»„ï¼ŒæŸ¥çœ‹è¿ç»­çš„æ•°ç»„æœ‰å¤šé•¿
        
        è®¾ç«‹ä¸€ä¸ªdictï¼Œkeyä¸ºä¸€ä¸ªnumsä¸­çš„æ•°å­—ï¼Œvalueä¸ºkeyå‚ä¸çš„åºåˆ—çš„æœ€å¤§é•¿åº¦
        æ¯è¿›æ¥ä¸€ä¸ªæ•°å­—ï¼Œå¦‚æœè¿™ä¸ªæ•°å­—æ˜¯ç¬¬ä¸€æ¬¡å‡ºç°
        1. é¦–å…ˆæ£€æŸ¥è¿™ä¸ªæ•°å­—çš„å‡ºç°ï¼Œä¼šä¸ä¼šä½¿å¾—å·²æœ‰çš„æ•°å­—æ‰€åœ¨åºåˆ—é•¿åº¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæœ‰ï¼Œåˆ™å¯¹å…¶åšæ›´æ”¹
        2. å¦‚æœè¿™ä¸ªæ•°å­—å·²ç»å‡ºç°è¿‡ï¼Œé‚£å°±ä¸ç”¨è®¡ç®—äº†
        å…·ä½“çš„ä¸¾ä¾‹ç†è§£æ›´æ¸…æ¥šä¸€äº›
        '''
        d = {}
        maxx = 0
        for num in nums:
            if d.get(num) is None:
                # æ£€æŸ¥å‰åä½ç½®æ˜¯å¦æœ‰å·²æœ‰çš„è¿ç»­æ•°åˆ—
                left = d.get(num-1, 0) # æ²¡æœ‰è¿™ä¸ªæ•°åˆ—ï¼Œä»£è¡¨num-1ä½ç½®çš„è¿ç»­æ•°åˆ—é•¿åº¦ä¸º0
                right = d.get(num+1, 0)
                # 
                length = left + right + 1 # numå‡ºç°ä¹‹åï¼Œnumå‚ä¸çš„åºåˆ—é•¿åº¦ï¼Œæ›´æ–°ï¼Œå¦‚æœå·¦å³é‚»å±…éƒ½æ²¡å‡ºç°ï¼Œåˆ™numæ‰€åœ¨çš„åºåˆ—é•¿åº¦å°±æ˜¯1
                d[num] = length
                d[num-left] = length
                d[num+right] = length
                maxx = max([maxx, length])
            else:
                pass
        return maxx
```

## 136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— <a name="number_once">ğŸ“Œ</a>

> ç»™ä½ ä¸€ä¸ª **éç©º** æ•´æ•°æ•°ç»„ `nums` ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚
>
> ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä¸”è¯¥ç®—æ³•åªä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´ã€‚
>
>  
>
> **ç¤ºä¾‹ 1 ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [2,2,1]
> è¾“å‡ºï¼š1
> ```
>
> **ç¤ºä¾‹ 2 ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [4,1,2,1,2]
> è¾“å‡ºï¼š4
> ```
>
> **ç¤ºä¾‹ 3 ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1]
> è¾“å‡ºï¼š1
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= nums.length <= 3 * 104`
> - `-3 * 104 <= nums[i] <= 3 * 104`
> - é™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚

è¿™é¢˜æˆ‘æ“ç‰›é€¼

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> int:
        '''
        æ€è·¯ï¼šçº¿æ€§æ—¶é—´å¤æ‚åº¦å¥½è¯´ï¼Œä¸€æ¬¡éå†å³å¯ï¼Œå¸¸é‡é¢å¤–ç©ºé—´å¯ä»¥ç†è§£ä¸ºï¼Œç¼“å­˜åŒºçš„å¤§å°æ˜¯ä¸å˜çš„
        '''
        # d = {} # 
        # for num in nums:
        #     if d.get(num) is None:
        #         # ç¬¬ä¸€æ¬¡éå†åˆ°
        #         d[num] = 1
        #     elif d.get(num) == 1:
        #         # ç¬¬äºŒæ¬¡éå†åˆ°
        #         del(d[num])
        # keys = list(d.keys())
        # return keys[0]
        '''
        å¼‚æˆ–ï¼šå¼‚æˆ–æ»¡è¶³äº¤æ¢å¾‹ï¼Œå³a^b^a = a^a^b = b
        '''
        ans = nums[0]
        for i in range(1, len(nums)):
            ans = ans ^ nums[i]
        return ans
```

## 79. å•è¯æœç´¢ <a name="word_search">ğŸ“Œ</a>

> ç»™å®šä¸€ä¸ª `m x n` äºŒç»´å­—ç¬¦ç½‘æ ¼ `board` å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ `word` ã€‚å¦‚æœ `word` å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚
>
> å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2020/11/04/word2.jpg)
>
> ```
> è¾“å…¥ï¼šboard = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCCED"
> è¾“å‡ºï¼štrue
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2020/11/04/word-1.jpg)
>
> ```
> è¾“å…¥ï¼šboard = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "SEE"
> è¾“å‡ºï¼štrue
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2020/10/15/word3.jpg)
>
> ```
> è¾“å…¥ï¼šboard = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCB"
> è¾“å‡ºï¼šfalse
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `m == board.length`
> - `n = board[i].length`
> - `1 <= m, n <= 6`
> - `1 <= word.length <= 15`
> - `board` å’Œ `word` ä»…ç”±å¤§å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

```python
class Solution:
    def exist(self, board: List[List[str]], word: str) -> bool:
        '''
        æ€è·¯ï¼šå›æº¯
        å†™ä¸€ä¸ªå›æº¯check(i,j,k)è¡¨ç¤ºä»i,jä½ç½®æ˜¯å¦èƒ½æ‰¾åˆ°å­—ç¬¦ä¸²word[k:]
        æµç¨‹å¦‚ä¸‹ï¼šï¼ˆæ³¨æ„æ¯æ¬¡åˆ¤æ–­æ—¶éœ€è¦æ£€æŸ¥æŸä½ç½®æ˜¯å¦è¢«éå†è¿‡ï¼‰
        1. if board[i,j] != word[k] return False
        2. if board[i,j] == word[k]
            check[i,j+1,k+1]
        å†åŠ ä¸Šä¸€äº›è¾¹ç•Œçš„æ¡ä»¶æ£€æŸ¥
        '''
        m, n = len(board), len(board[0])
        is_check = set() # (i, j)
        def check(i, j, k):
            if board[i][j] == word[k]:
                if k == len(word) - 1:
                    return True
                is_check.add((i, j))
                res = False
                if 0 <= i+1 < m and (i+1, j) not in is_check:
                    res = check(i+1, j, k+1)
                    if res is True: return res # å¦‚æœæœ‰ä¸€æ¡è·¯é€šäº†ï¼Œå°±ä¸ç”¨è¿›è¡Œä¸‹é¢çš„åˆ¤æ–­äº†ï¼Œå¦åˆ™ä¼šå¹²æ‰°ç»“æœ
                if 0 <= i-1 < m and (i-1, j) not in is_check:
                    res = check(i-1, j, k+1)
                    if res is True: return res
                if 0 <= j-1 < n and (i, j-1) not in is_check:
                    res = check(i, j-1, k+1)
                    if res is True: return res
                if 0 <= j+1 < n and (i, j+1) not in is_check:
                    res = check(i, j+1, k+1)
                    if res is True: return res
                # å¦‚æœåœ¨ä»»æ„ä¸€æ¬¡å›æº¯çš„æ—¶å€™returnäº†falseï¼Œåˆ™éœ€è¦å°†å¯¹åº”çš„è·¯å¾„æ¨å‡º
                is_check.remove((i, j))
                # å°‘äº†è¿™å¥ï¼šä¸è®ºå¯¹äºä»»ä½•æƒ…å†µï¼Œéƒ½è¦ç»™ä¸€ä¸ªç»“æœ
                return res
            else:
                return False
        # ä»ä»»æ„ä¸€ä¸ªä¸word[0]ç›¸åŒçš„ä½ç½®å¼€å§‹æŸ¥æ‰¾
        pos = []
        for i in range(m):
            for j in range(n):
                if board[i][j] == word[0]:
                    pos.append((i, j))
        if len(pos) == 0:
            return False
        else:
            for p in pos:
                res = check(p[0], p[1], 0)
                if res is True:
                    return True
            return False
```

### 1759. ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®

> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¿”å› `s` ä¸­ **åŒæ„å­å­—ç¬¦ä¸²** çš„æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œåªéœ€è¿”å›å¯¹ `109 + 7` **å–ä½™** åçš„ç»“æœã€‚
>
> **åŒæ„å­—ç¬¦ä¸²** çš„å®šä¹‰ä¸ºï¼šå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½ç›¸åŒï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦ä¸²å°±æ˜¯åŒæ„å­—ç¬¦ä¸²ã€‚
>
> **å­å­—ç¬¦ä¸²** æ˜¯å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªè¿ç»­å­—ç¬¦åºåˆ—ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "abbcccaa"
> è¾“å‡ºï¼š13
> è§£é‡Šï¼šåŒæ„å­å­—ç¬¦ä¸²å¦‚ä¸‹æ‰€åˆ—ï¼š
> "a"   å‡ºç° 3 æ¬¡ã€‚
> "aa"  å‡ºç° 1 æ¬¡ã€‚
> "b"   å‡ºç° 2 æ¬¡ã€‚
> "bb"  å‡ºç° 1 æ¬¡ã€‚
> "c"   å‡ºç° 3 æ¬¡ã€‚
> "cc"  å‡ºç° 2 æ¬¡ã€‚
> "ccc" å‡ºç° 1 æ¬¡ã€‚
> 3 + 1 + 2 + 1 + 3 + 2 + 1 = 13
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "xy"
> è¾“å‡ºï¼š2
> è§£é‡Šï¼šåŒæ„å­å­—ç¬¦ä¸²æ˜¯ "x" å’Œ "y" ã€‚
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "zzzzz"
> è¾“å‡ºï¼š15
> ```
>
> **æç¤ºï¼š**
>
> - `1 <= s.length <= 10^5`
> - `s` ç”±å°å†™å­—ç¬¦ä¸²ç»„æˆ

```python
class Solution:
    def countHomogenous(self, s: str) -> int:
        '''
        ç›´æ¥ä½¿ç”¨æ•°å­¦è§£æ³•ï¼š
        å…¶å®ç¤ºä¾‹ä¸­æœ‰ç‚¹è¯¯å¯¼äººï¼Œä»¥â€œaâ€ä¸ºä¾‹ï¼Œâ€œaâ€å‡ºç°çš„ä¸‰æ¬¡æ„æˆå¦‚ä¸‹ï¼š
        - index=0æ—¶çš„â€˜aâ€™ï¼šå‡ºç°ä¸€æ¬¡
        - â€œaaâ€å­åºåˆ—ï¼šå‡ºç°ä¸¤æ¬¡
        æ‰€ä»¥å¯¹äºå¯¹äºä¸€ä¸ªç»„ä¸­å­—ç¬¦ä¸²çš„ä»»æ„å­å­—ç¬¦ä¸²éƒ½ä¸ºã€ŒåŒæ„å­å­—ç¬¦ä¸²ã€ï¼Œè€Œä¸€ä¸ªé•¿åº¦ä¸º m çš„å­—ç¬¦ä¸²çš„å­å­—ç¬¦ä¸²çš„æ•°ç›®ä¸º 
                                frac{(m+1)m}{2}
        è§£è¯»ï¼š
            (é¦–é¡¹+æœ«é¡¹)*é¡¹æ•°/2
            é•¿åº¦ä¸º1çš„å­åºåˆ—å‡ºç°mæ¬¡ï¼Œé•¿åº¦ä¸º2çš„å­åºåˆ—å‡ºç°m-1æ¬¡ï¼Œâ€¦â€¦ï¼Œé•¿åº¦ä¸ºmçš„å­åºåˆ—å‡ºç°1æ¬¡
        '''
        summ = 0
        for k, v in groupby(s): # groupbyè¿™ä¸ªå‡½æ•°æ‰¾ä¸åˆ°å‚è€ƒï¼Œè¯•è¯•åŸå§‹çš„åšæ³•
            l = len(list(v))
            summ += int(((1+l)*l)/2)
        return summ % (10**9+7)
      
        ############ åŸå§‹è§£æ³• ###########
        summ = 0
        comp = s[0]
        l = 0 # ç”±compæ„æˆçš„è¿ç»­å­—ç¬¦ä¸²çš„é•¿åº¦
        for letter in s:
            if letter == comp:
                l += 1
            else:
                summ += int(((1+l)*l)/2)
                # æ›´æ–°comp
                comp = letter
                l = 1
        summ += int(((1+l)*l)/2)
        return summ % (10**9+7)
```

