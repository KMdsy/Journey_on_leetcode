---
title: æ•°ç»„ Array (medium)
date: 2022-12-11 21:00:00
updated: 2022-12-11 23:00:00
tag:
- leetcode
---

## æœ¬ç« é‡ç‚¹

1. é’ˆå¯¹åŸé¢˜ä¸­çš„`O(log(m+n))`æ—¶é—´å¤æ‚åº¦è¦æ±‚ï¼Œåº”è¯¥æƒ³åˆ°äºŒåˆ†æŸ¥æ‰¾ï¼ˆ[å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„ä¸­çš„ä¸­ä½æ•°](#find_mid)ï¼‰ã€‚

2. [åˆ†ç³–æœé—®é¢˜](#sugers)ï¼šæˆ‘ä»¬å¯ä»¥å°†ã€Œç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­å¿…é¡»è·å¾—æ›´å¤šçš„ç³–æœã€è¿™å¥è¯æ‹†åˆ†ä¸ºä¸¤ä¸ªè§„åˆ™ï¼Œåˆ†åˆ«å¤„ç†ã€‚

    â€‹        å·¦è§„åˆ™ï¼šå½“ i+1 å­©å­çš„åˆ†æ•°æ¯” i å­©å­å¤šï¼Œåˆ™åœ¨ i å­©å­çš„åŸºç¡€ä¸Šå¤šåŠ 1ä¸ªç³–æœ

    â€‹        å³è§„åˆ™ï¼šå½“ i å­©å­çš„åˆ†æ•°æ¯” i+1 å­©å­å¤šï¼Œåˆ™åœ¨ i+1 å­©å­çš„åŸºç¡€ä¸Šå¤šåŠ 1ä¸ªç³–æœ

    â€‹        æˆ‘ä»¬éå†è¯¥æ•°ç»„ä¸¤æ¬¡ï¼Œå¤„ç†å‡ºæ¯ä¸€ä¸ªå­¦ç”Ÿåˆ†åˆ«æ»¡è¶³å·¦è§„åˆ™æˆ–å³è§„åˆ™æ—¶ï¼Œæœ€å°‘éœ€è¦è¢«åˆ†å¾—çš„ç³–æœæ•°é‡ã€‚æ¯ä¸ªäººæœ€ç»ˆåˆ†å¾—çš„ç³–æœæ•°é‡å³ä¸ºè¿™ä¸¤ä¸ªæ•°é‡çš„æœ€å¤§å€¼ã€‚

3. 

## æœ¬ç« é¢˜ç›®æ€è·¯è®°å¿†è¦ç‚¹

1. 

## é¢˜ç›®

### 4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° <a name="find_mid">ğŸ“Œ</a>

> ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º `m` å’Œ `n` çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ `nums1` å’Œ `nums2`ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ **ä¸­ä½æ•°** ã€‚
>
> ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º `O(log (m+n))` ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums1 = [1,3], nums2 = [2]
> è¾“å‡ºï¼š2.00000
> è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums1 = [1,2], nums2 = [3,4]
> è¾“å‡ºï¼š2.50000
> è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) / 2 = 2.5 
> ```
>
> **æç¤ºï¼š**
>
> - `nums1.length == m`
> - `nums2.length == n`
> - `0 <= m <= 1000`
> - `0 <= n <= 1000`
> - `1 <= m + n <= 2000`
> - `-10^6 <= nums1[i], nums2[i] <= 10^6`

acceptç­”æ¡ˆï¼š

```python
class Solution:
    def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
        '''
        æ€è·¯ï¼šä»å¤æ‚åº¦æ–¹é¢è€ƒè™‘ï¼Œä¸å¯ä»¥å…¨éƒ¨æ‰«æï¼Œè¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(m+n)
        è¿™é‡Œè€ƒè™‘ï¼šç”¨ä¸€ä¸ªæ ˆæ¥é¡ºåºå­˜å‚¨åˆå¹¶æ•°ç»„ï¼Œæ ˆçš„å¤§å°ä¸º
        (m+n)/2 -> (m+n)%2 == 0
        (m+n-1)/2 -> (m+n)%2 != 0
        '''
        ordered = []
        pin1, pin2 = 0, 0
        m, n = len(nums1), len(nums2)
        length = (m+n-1)/2 if (m+n)%2 != 0 else (m+n)/2
        while len(ordered) < length+1:
            if pin1 < m and pin2 < n and nums1[pin1] <= nums2[pin2]:
                # ç›¸ç­‰çš„æ—¶å€™åªæ”¾è¿›å»ä¸€ä¸ª
                ordered.append(nums1[pin1])
                pin1 += 1
            elif pin1 < m and pin2 < n:
                ordered.append(nums2[pin2])
                pin2 += 1
            else:
                # æŒ‡é’ˆæœ‰ä¸€ä¸ªä¸åœ¨èŒƒå›´äº†
                if pin1 >= m and pin2 < n:
                    ordered.append(nums2[pin2])
                    pin2 += 1
                elif pin1 < m and pin2 >= n:
                    ordered.append(nums1[pin1])
                    pin1 += 1
                else:
                    break
        if (m+n)%2 == 0:
            return (ordered[-1] + ordered[-2])/2
        else:
            return ordered[-1]
```

é’ˆå¯¹åŸé¢˜ä¸­çš„`O(log(m+n))`æ—¶é—´å¤æ‚åº¦è¦æ±‚ï¼Œåº”è¯¥æƒ³åˆ°äºŒåˆ†æŸ¥æ‰¾

### 135.åˆ†å‘ç³–æœ <a name="sugers">ğŸ“Œ</a>

> `n` ä¸ªå­©å­ç«™æˆä¸€æ’ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `ratings` è¡¨ç¤ºæ¯ä¸ªå­©å­çš„è¯„åˆ†ã€‚
>
> ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š
>
> - æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° `1` ä¸ªç³–æœã€‚
> - ç›¸é‚»ä¸¤ä¸ªå­©å­è¯„åˆ†æ›´é«˜çš„å­©å­ä¼šè·å¾—æ›´å¤šçš„ç³–æœã€‚
>
> è¯·ä½ ç»™æ¯ä¸ªå­©å­åˆ†å‘ç³–æœï¼Œè®¡ç®—å¹¶è¿”å›éœ€è¦å‡†å¤‡çš„ **æœ€å°‘ç³–æœæ•°ç›®** ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šratings = [1,0,2]
> è¾“å‡ºï¼š5
> è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šratings = [1,2,2]
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚
>      ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™æ»¡è¶³é¢˜é¢ä¸­çš„ä¸¤ä¸ªæ¡ä»¶ã€‚
> ```
>
> **æç¤ºï¼š**
>
> - `n == ratings.length`
> - `1 <= n <= 2 * 104`
> - `0 <= ratings[i] <= 2 * 104`

```python
class Solution:
    def candy(self, ratings: List[int]) -> int:
        '''
        æˆ‘ä»¬å¯ä»¥å°†ã€Œç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­å¿…é¡»è·å¾—æ›´å¤šçš„ç³–æœã€è¿™å¥è¯æ‹†åˆ†ä¸ºä¸¤ä¸ªè§„åˆ™ï¼Œåˆ†åˆ«å¤„ç†ã€‚
        å·¦è§„åˆ™ï¼šå½“ i+1 å­©å­çš„åˆ†æ•°æ¯” i å­©å­å¤šï¼Œåˆ™åœ¨ i å­©å­çš„åŸºç¡€ä¸Šå¤šåŠ 1ä¸ªç³–æœ
        å³è§„åˆ™ï¼šå½“ i å­©å­çš„åˆ†æ•°æ¯” i+1 å­©å­å¤šï¼Œåˆ™åœ¨ i+1 å­©å­çš„åŸºç¡€ä¸Šå¤šåŠ 1ä¸ªç³–æœ
        æˆ‘ä»¬éå†è¯¥æ•°ç»„ä¸¤æ¬¡ï¼Œå¤„ç†å‡ºæ¯ä¸€ä¸ªå­¦ç”Ÿåˆ†åˆ«æ»¡è¶³å·¦è§„åˆ™æˆ–å³è§„åˆ™æ—¶ï¼Œæœ€å°‘éœ€è¦è¢«åˆ†å¾—çš„ç³–æœæ•°é‡ã€‚æ¯ä¸ªäººæœ€ç»ˆåˆ†å¾—çš„ç³–æœæ•°é‡å³ä¸ºè¿™ä¸¤ä¸ªæ•°é‡çš„æœ€å¤§å€¼ã€‚
        '''
        res1 = []
        for i, rate in enumerate(ratings):
            if i == 0:
                res1.append(1)
            else:
                if rate > ratings[i-1]:
                    res1.append(res1[-1]+1) # æ¯”å‰ä¸€ä¸ªå¤šä¸€ä¸ª
                else:
                    res1.append(1)
        res2 = []
        ratings_inver = ratings[::-1]
        for i, rate in enumerate(ratings_inver):
            if i == 0:
                res2.append(1)
            else:
                if rate > ratings_inver[i-1]:
                    res2.append(res2[-1]+1) # æ¯”å‰ä¸€ä¸ªå¤šä¸€ä¸ª
                else:
                    res2.append(1)
        res2 = res2[::-1]
        res = []
        for num1, num2 in zip(res1, res2):
            res.append(max([num1, num2]))
        return sum(res)
```

