---
title: 蚂蚁机试
date: 2022-04-11 10:12:00
updated: 2022-02-27 10:45:00
tag:
- leetcode
- python
---

# 蚂蚁机试原题总结

### 1. 数位和为n的最大整数

> **题目内容**
>
> ​	给定个正整数 $n$ ，请你找到最大的正整数，满足该正整数所有数位之和等于 $n$ ，且每个数位都不相等（每个数位不能是 0)
>
> ​	举个例子，如果 $n=7$，那么答案是 $421$ 。因为 $4+2+1=7$，且每个数位都不相等。
>
> **输入描述**
>
> ​	一个正整数 $n$ 。
>
> ​	$1≤n≤100$
>
> **输出描述**
>
> ​	如果不存在合法解，请输出 −1。
>
> ​	否则输出最大的满足条件的正整数。
>
> **样例**
>
> **输入**
>
> ```none
> 7
> ```
>
> **输出**
>
> ```none
> 421
> ```
>
> ​	
>

```python
n = int(input())

# 最大的数字一定为倒序排列，给定987654321，判断删除哪些数字可以使得每一位加起来为n
# 因为每一位不能重合，可以枚举长度，并在每个长度上选择每一位和为n的数字
res = []

def check(num, select, cnt):
    # 对给定的要凭凑的数字num，选定一个候选的数字select，此时还有cnt个数字没选
    # selected数字是否可选
    if num - select >= (1+cnt)*cnt // 2:
        return True
    else: 
        # 剩下的数字选择最小的，都会超过num的限制
        return False
res = -1
for length in range(1, 10):
    cur_len = length
    cur_num = n
    summ = 0 # 目前的总和
    for select in range(9, 0, -1):
        if cur_num == 0 or cur_len == 0: break # 已经完成，或者不能完成
        if check(cur_num, select, cur_len-1) is True:
            summ = summ*10 + select
            cur_len -= 1
            cur_num -= select
    if cur_num == 0:
        res = max([res, summ])
print(res)
```

### 2. 蚂蚁校招-2022.10.27-括号匹配

> **题目内容**
>
> 给定个仅包含`(`、`)`和`?`三种字符构成的字符串，`？`字符可以代替左括号或者右括号。
>
> 请问该字符串可以代表多少种不同的合法括号序列？
>
> **输入描述**
>
> 一个仅包含`(`、`)`和`?`的字符串，长度不超过2000。
>
> **输出描述**
>
> 合法序列的数量。由于数量可能过大，请对$10^9+7$取模。
>
> **样例**
>
> 输入
> ```
> ????(?
> ```
>
> **输出**
>
> ```
> 2
> ```
>
> **样例解释**
>
> 共有2种不同的合法括号序列，`()()()`或`(())()`

```python
s = input()
n = len(s)

# 动态规划
# dp[i][j]: 表示第i个字符之前，左括号比右括号多j个的方案数
# 最终答案即为dp[n][0]，其中n为字符串长度
# 当s[i]=='('，dp[i][j] += dp[i-1][j-1]
# 当s[i]==')'，dp[i][j] += dp[i-1][j+1]
# 当s[i]=='?'，dp[i][j] += dp[i-1][j-1]+dp[i-1][j+1]


dp = [[0] * (n+10) for _ in range(n+10)]
dp[0][0] = 1 # base case
s = ['*'] + list(s)

for i in range(1, n+1):
    for j in range(i+1):
        # 遍历到i位，左括号最多比右边多i个
        if (s[i] == '(' or s[i] == '?') and j != 0:
            dp[i][j] = dp[i - 1][j - 1] + dp[i][j]
        if s[i] == ')' or s[i] == '?':
            dp[i][j] = dp[i - 1][j + 1] + dp[i][j]

print(dp[n][0] % (10**9+7))

```

